import { generateIdFromSourceOptions } from '../../../utils/id-generator';
export class DataSource {
    constructor(options = {}, dataService) {
        this.options = options;
        this.dataService = dataService;
        this.options = options;
        this.id = this.options.id || this.generateId();
        this.ol = this.createOlSource();
    }
    generateId() {
        return generateIdFromSourceOptions(this.options);
    }
    getLegend(style, view) {
        return this.legend ? this.legend : [];
    }
    setLegend(options) {
        if (options.url) {
            this.legend = [{ url: options.url }];
        }
        else if (options.html) {
            this.legend = [{ html: options.html }];
        }
        else {
            this.legend = [];
        }
        return this.legend;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2dlby9zcmMvbGliL2RhdGFzb3VyY2Uvc2hhcmVkL2RhdGFzb3VyY2VzL2RhdGFzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV0EsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFHMUUsTUFBTSxPQUFnQixVQUFVO0lBTTlCLFlBQ1MsVUFBNkIsRUFBRSxFQUM1QixXQUF5QjtRQUQ1QixZQUFPLEdBQVAsT0FBTyxDQUF3QjtRQUM1QixnQkFBVyxHQUFYLFdBQVcsQ0FBYztRQUVuQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUMvQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBSVMsVUFBVTtRQUNsQixPQUFPLDJCQUEyQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRU0sU0FBUyxDQUFDLEtBQWMsRUFBRSxJQUEyQjtRQUMxRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRU0sU0FBUyxDQUFDLE9BQXNCO1FBQ3JDLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtZQUNmLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsR0FBRyxFQUFDLENBQUUsQ0FBQztTQUN0QzthQUFNLElBQUksT0FBTyxDQUFDLElBQUksRUFBRTtZQUN2QixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBQyxDQUFFLENBQUM7U0FDeEM7YUFBTTtZQUNMLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQ2xCO1FBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7Q0FHRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBvbFNvdXJjZSBmcm9tICdvbC9zb3VyY2UvU291cmNlJztcbmltcG9ydCBvbFZlY3RvclNvdXJjZSBmcm9tICdvbC9zb3VyY2UvVmVjdG9yJztcbmltcG9ydCBvbENsdXN0ZXJTb3VyY2UgZnJvbSAnb2wvc291cmNlL0NsdXN0ZXInO1xuaW1wb3J0IHR5cGUgeyBkZWZhdWx0IGFzIE9sR2VvbWV0cnkgfSBmcm9tICdvbC9nZW9tL0dlb21ldHJ5JztcblxuaW1wb3J0IHtcbiAgRGF0YVNvdXJjZU9wdGlvbnMsXG4gIExlZ2VuZFxufSBmcm9tICcuL2RhdGFzb3VyY2UuaW50ZXJmYWNlJztcblxuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tICcuL2RhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZUlkRnJvbVNvdXJjZU9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pZC1nZW5lcmF0b3InO1xuaW1wb3J0IHsgTGVnZW5kTWFwVmlld09wdGlvbnMsIExlZ2VuZE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9sYXllci9zaGFyZWQvbGF5ZXJzL2xheWVyLmludGVyZmFjZSc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhU291cmNlIHtcblxuICBwdWJsaWMgaWQ6IHN0cmluZztcbiAgcHVibGljIG9sOiBvbFNvdXJjZSB8IG9sVmVjdG9yU291cmNlPE9sR2VvbWV0cnk+IHwgb2xDbHVzdGVyU291cmNlIDtcbiAgcHJpdmF0ZSBsZWdlbmQ6IExlZ2VuZFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBvcHRpb25zOiBEYXRhU291cmNlT3B0aW9ucyA9IHt9LFxuICAgIHByb3RlY3RlZCBkYXRhU2VydmljZT86IERhdGFTZXJ2aWNlXG4gICkge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5pZCA9IHRoaXMub3B0aW9ucy5pZCB8fMKgdGhpcy5nZW5lcmF0ZUlkKCk7XG4gICAgdGhpcy5vbCA9IHRoaXMuY3JlYXRlT2xTb3VyY2UoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVPbFNvdXJjZSgpOiBvbFNvdXJjZTtcblxuICBwcm90ZWN0ZWQgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZW5lcmF0ZUlkRnJvbVNvdXJjZU9wdGlvbnModGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMZWdlbmQoc3R5bGU/OiBzdHJpbmcsIHZpZXc/OiBMZWdlbmRNYXBWaWV3T3B0aW9ucyk6IExlZ2VuZFtdIHtcbiAgICByZXR1cm4gdGhpcy5sZWdlbmQgPyB0aGlzLmxlZ2VuZCA6IFtdO1xuICB9XG5cbiAgcHVibGljIHNldExlZ2VuZChvcHRpb25zOiBMZWdlbmRPcHRpb25zKTogTGVnZW5kW10ge1xuICAgIGlmIChvcHRpb25zLnVybCkge1xuICAgICAgdGhpcy5sZWdlbmQgPSBbeyB1cmw6IG9wdGlvbnMudXJsfSBdO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5odG1sKSB7XG4gICAgICB0aGlzLmxlZ2VuZCA9IFt7IGh0bWw6IG9wdGlvbnMuaHRtbH0gXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sZWdlbmQgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5sZWdlbmQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25VbndhdGNoKCk7XG59XG4iXX0=