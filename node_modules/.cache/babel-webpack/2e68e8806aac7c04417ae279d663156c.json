{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/layer/Group\n */\n\n\nimport BaseLayer from './Base.js';\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport SourceState from '../source/State.js';\nimport { assert } from '../asserts.js';\nimport { assign, clear } from '../obj.js';\nimport { getIntersection } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { listen, unlistenByKey } from '../events.js';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:layers', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"./Base\").BaseLayerObjectEventTypes|'change:layers', Return>} GroupOnSignature\n */\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {Array<import(\"./Base.js\").default>|import(\"../Collection.js\").default<import(\"./Base.js\").default>} [layers] Child layers.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n\n/**\n * @enum {string}\n * @private\n */\n\nvar Property = {\n  LAYERS: 'layers'\n};\n/**\n * @classdesc\n * A {@link module:ol/Collection~Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @api\n */\n\nvar LayerGroup = function (_super) {\n  __extends(LayerGroup, _super);\n  /**\n   * @param {Options} [opt_options] Layer options.\n   */\n\n\n  function LayerGroup(opt_options) {\n    var _this = this;\n\n    var options = opt_options || {};\n    var baseOptions = assign({}, options);\n    delete baseOptions.layers;\n    var layers = options.layers;\n    _this = _super.call(this, baseOptions) || this;\n    /***\n     * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n     */\n\n    _this.on;\n    /***\n     * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n     */\n\n    _this.once;\n    /***\n     * @type {GroupOnSignature<void>}\n     */\n\n    _this.un;\n    /**\n     * @private\n     * @type {Array<import(\"../events.js\").EventsKey>}\n     */\n\n    _this.layersListenerKeys_ = [];\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n     */\n\n    _this.listenerKeys_ = {};\n\n    _this.addChangeListener(Property.LAYERS, _this.handleLayersChanged_);\n\n    if (layers) {\n      if (Array.isArray(layers)) {\n        layers = new Collection(layers.slice(), {\n          unique: true\n        });\n      } else {\n        assert(typeof\n        /** @type {?} */\n        layers.getArray === 'function', 43); // Expected `layers` to be an array or a `Collection`\n      }\n    } else {\n      layers = new Collection(undefined, {\n        unique: true\n      });\n    }\n\n    _this.setLayers(layers);\n\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  LayerGroup.prototype.handleLayerChange_ = function () {\n    this.changed();\n  };\n  /**\n   * @private\n   */\n\n\n  LayerGroup.prototype.handleLayersChanged_ = function () {\n    this.layersListenerKeys_.forEach(unlistenByKey);\n    this.layersListenerKeys_.length = 0;\n    var layers = this.getLayers();\n    this.layersListenerKeys_.push(listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this), listen(layers, CollectionEventType.REMOVE, this.handleLayersRemove_, this));\n\n    for (var id in this.listenerKeys_) {\n      this.listenerKeys_[id].forEach(unlistenByKey);\n    }\n\n    clear(this.listenerKeys_);\n    var layersArray = layers.getArray();\n\n    for (var i = 0, ii = layersArray.length; i < ii; i++) {\n      var layer = layersArray[i];\n      this.listenerKeys_[getUid(layer)] = [listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this), listen(layer, EventType.CHANGE, this.handleLayerChange_, this)];\n    }\n\n    this.changed();\n  };\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n   * @private\n   */\n\n\n  LayerGroup.prototype.handleLayersAdd_ = function (collectionEvent) {\n    var layer = collectionEvent.element;\n    this.listenerKeys_[getUid(layer)] = [listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this), listen(layer, EventType.CHANGE, this.handleLayerChange_, this)];\n    this.changed();\n  };\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n   * @private\n   */\n\n\n  LayerGroup.prototype.handleLayersRemove_ = function (collectionEvent) {\n    var layer = collectionEvent.element;\n    var key = getUid(layer);\n    this.listenerKeys_[key].forEach(unlistenByKey);\n    delete this.listenerKeys_[key];\n    this.changed();\n  };\n  /**\n   * Returns the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n   * in this group.\n   * @return {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} Collection of\n   *   {@link module:ol/layer/Base layers} that are part of this group.\n   * @observable\n   * @api\n   */\n\n\n  LayerGroup.prototype.getLayers = function () {\n    return this.get(Property.LAYERS);\n  };\n  /**\n   * Set the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n   * in this group.\n   * @param {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} layers Collection of\n   *   {@link module:ol/layer/Base layers} that are part of this group.\n   * @observable\n   * @api\n   */\n\n\n  LayerGroup.prototype.setLayers = function (layers) {\n    this.set(Property.LAYERS, layers);\n  };\n  /**\n   * @param {Array<import(\"./Layer.js\").default>} [opt_array] Array of layers (to be modified in place).\n   * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n   */\n\n\n  LayerGroup.prototype.getLayersArray = function (opt_array) {\n    var array = opt_array !== undefined ? opt_array : [];\n    this.getLayers().forEach(function (layer) {\n      layer.getLayersArray(array);\n    });\n    return array;\n  };\n  /**\n   * Get the layer states list and use this groups z-index as the default\n   * for all layers in this and nested groups, if it is unset at this point.\n   * If opt_states is not provided and this group's z-index is undefined\n   * 0 is used a the default z-index.\n   * @param {Array<import(\"./Layer.js\").State>} [opt_states] Optional list\n   * of layer states (to be modified in place).\n   * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n   */\n\n\n  LayerGroup.prototype.getLayerStatesArray = function (opt_states) {\n    var states = opt_states !== undefined ? opt_states : [];\n    var pos = states.length;\n    this.getLayers().forEach(function (layer) {\n      layer.getLayerStatesArray(states);\n    });\n    var ownLayerState = this.getLayerState();\n    var defaultZIndex = ownLayerState.zIndex;\n\n    if (!opt_states && ownLayerState.zIndex === undefined) {\n      defaultZIndex = 0;\n    }\n\n    for (var i = pos, ii = states.length; i < ii; i++) {\n      var layerState = states[i];\n      layerState.opacity *= ownLayerState.opacity;\n      layerState.visible = layerState.visible && ownLayerState.visible;\n      layerState.maxResolution = Math.min(layerState.maxResolution, ownLayerState.maxResolution);\n      layerState.minResolution = Math.max(layerState.minResolution, ownLayerState.minResolution);\n      layerState.minZoom = Math.max(layerState.minZoom, ownLayerState.minZoom);\n      layerState.maxZoom = Math.min(layerState.maxZoom, ownLayerState.maxZoom);\n\n      if (ownLayerState.extent !== undefined) {\n        if (layerState.extent !== undefined) {\n          layerState.extent = getIntersection(layerState.extent, ownLayerState.extent);\n        } else {\n          layerState.extent = ownLayerState.extent;\n        }\n      }\n\n      if (layerState.zIndex === undefined) {\n        layerState.zIndex = defaultZIndex;\n      }\n    }\n\n    return states;\n  };\n  /**\n   * @return {import(\"../source/State.js\").default} Source state.\n   */\n\n\n  LayerGroup.prototype.getSourceState = function () {\n    return SourceState.READY;\n  };\n\n  return LayerGroup;\n}(BaseLayer);\n\nexport default LayerGroup;","map":{"version":3,"sources":["C:/Users/admin/Downloads/angular/igo2-lib-master/node_modules/ol/layer/Group.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","BaseLayer","Collection","CollectionEventType","EventType","ObjectEventType","SourceState","assert","assign","clear","getIntersection","getUid","listen","unlistenByKey","Property","LAYERS","LayerGroup","_super","opt_options","_this","options","baseOptions","layers","on","once","un","layersListenerKeys_","listenerKeys_","addChangeListener","handleLayersChanged_","isArray","slice","unique","getArray","undefined","setLayers","handleLayerChange_","changed","forEach","length","getLayers","push","ADD","handleLayersAdd_","REMOVE","handleLayersRemove_","id","layersArray","i","ii","layer","PROPERTYCHANGE","CHANGE","collectionEvent","element","key","get","set","getLayersArray","opt_array","array","getLayerStatesArray","opt_states","states","pos","ownLayerState","getLayerState","defaultZIndex","zIndex","layerState","opacity","visible","maxResolution","Math","min","minResolution","max","minZoom","maxZoom","extent","getSourceState","READY"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Group\n */\nimport BaseLayer from './Base.js';\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport SourceState from '../source/State.js';\nimport { assert } from '../asserts.js';\nimport { assign, clear } from '../obj.js';\nimport { getIntersection } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { listen, unlistenByKey } from '../events.js';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:layers', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"./Base\").BaseLayerObjectEventTypes|'change:layers', Return>} GroupOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {Array<import(\"./Base.js\").default>|import(\"../Collection.js\").default<import(\"./Base.js\").default>} [layers] Child layers.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    LAYERS: 'layers',\n};\n/**\n * @classdesc\n * A {@link module:ol/Collection~Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @api\n */\nvar LayerGroup = /** @class */ (function (_super) {\n    __extends(LayerGroup, _super);\n    /**\n     * @param {Options} [opt_options] Layer options.\n     */\n    function LayerGroup(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        var baseOptions = /** @type {Options} */ (assign({}, options));\n        delete baseOptions.layers;\n        var layers = options.layers;\n        _this = _super.call(this, baseOptions) || this;\n        /***\n         * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {GroupOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.layersListenerKeys_ = [];\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n         */\n        _this.listenerKeys_ = {};\n        _this.addChangeListener(Property.LAYERS, _this.handleLayersChanged_);\n        if (layers) {\n            if (Array.isArray(layers)) {\n                layers = new Collection(layers.slice(), { unique: true });\n            }\n            else {\n                assert(typeof ( /** @type {?} */(layers).getArray) === 'function', 43); // Expected `layers` to be an array or a `Collection`\n            }\n        }\n        else {\n            layers = new Collection(undefined, { unique: true });\n        }\n        _this.setLayers(layers);\n        return _this;\n    }\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayerChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayersChanged_ = function () {\n        this.layersListenerKeys_.forEach(unlistenByKey);\n        this.layersListenerKeys_.length = 0;\n        var layers = this.getLayers();\n        this.layersListenerKeys_.push(listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this), listen(layers, CollectionEventType.REMOVE, this.handleLayersRemove_, this));\n        for (var id in this.listenerKeys_) {\n            this.listenerKeys_[id].forEach(unlistenByKey);\n        }\n        clear(this.listenerKeys_);\n        var layersArray = layers.getArray();\n        for (var i = 0, ii = layersArray.length; i < ii; i++) {\n            var layer = layersArray[i];\n            this.listenerKeys_[getUid(layer)] = [\n                listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n                listen(layer, EventType.CHANGE, this.handleLayerChange_, this),\n            ];\n        }\n        this.changed();\n    };\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersAdd_ = function (collectionEvent) {\n        var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n        this.listenerKeys_[getUid(layer)] = [\n            listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n            listen(layer, EventType.CHANGE, this.handleLayerChange_, this),\n        ];\n        this.changed();\n    };\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersRemove_ = function (collectionEvent) {\n        var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n        var key = getUid(layer);\n        this.listenerKeys_[key].forEach(unlistenByKey);\n        delete this.listenerKeys_[key];\n        this.changed();\n    };\n    /**\n     * Returns the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @return {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.getLayers = function () {\n        return /** @type {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} */ (this.get(Property.LAYERS));\n    };\n    /**\n     * Set the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @param {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} layers Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.setLayers = function (layers) {\n        this.set(Property.LAYERS, layers);\n    };\n    /**\n     * @param {Array<import(\"./Layer.js\").default>} [opt_array] Array of layers (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    LayerGroup.prototype.getLayersArray = function (opt_array) {\n        var array = opt_array !== undefined ? opt_array : [];\n        this.getLayers().forEach(function (layer) {\n            layer.getLayersArray(array);\n        });\n        return array;\n    };\n    /**\n     * Get the layer states list and use this groups z-index as the default\n     * for all layers in this and nested groups, if it is unset at this point.\n     * If opt_states is not provided and this group's z-index is undefined\n     * 0 is used a the default z-index.\n     * @param {Array<import(\"./Layer.js\").State>} [opt_states] Optional list\n     * of layer states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    LayerGroup.prototype.getLayerStatesArray = function (opt_states) {\n        var states = opt_states !== undefined ? opt_states : [];\n        var pos = states.length;\n        this.getLayers().forEach(function (layer) {\n            layer.getLayerStatesArray(states);\n        });\n        var ownLayerState = this.getLayerState();\n        var defaultZIndex = ownLayerState.zIndex;\n        if (!opt_states && ownLayerState.zIndex === undefined) {\n            defaultZIndex = 0;\n        }\n        for (var i = pos, ii = states.length; i < ii; i++) {\n            var layerState = states[i];\n            layerState.opacity *= ownLayerState.opacity;\n            layerState.visible = layerState.visible && ownLayerState.visible;\n            layerState.maxResolution = Math.min(layerState.maxResolution, ownLayerState.maxResolution);\n            layerState.minResolution = Math.max(layerState.minResolution, ownLayerState.minResolution);\n            layerState.minZoom = Math.max(layerState.minZoom, ownLayerState.minZoom);\n            layerState.maxZoom = Math.min(layerState.maxZoom, ownLayerState.maxZoom);\n            if (ownLayerState.extent !== undefined) {\n                if (layerState.extent !== undefined) {\n                    layerState.extent = getIntersection(layerState.extent, ownLayerState.extent);\n                }\n                else {\n                    layerState.extent = ownLayerState.extent;\n                }\n            }\n            if (layerState.zIndex === undefined) {\n                layerState.zIndex = defaultZIndex;\n            }\n        }\n        return states;\n    };\n    /**\n     * @return {import(\"../source/State.js\").default} Source state.\n     */\n    LayerGroup.prototype.getSourceState = function () {\n        return SourceState.READY;\n    };\n    return LayerGroup;\n}(BaseLayer));\nexport default LayerGroup;\n"]},"metadata":{},"sourceType":"module"}