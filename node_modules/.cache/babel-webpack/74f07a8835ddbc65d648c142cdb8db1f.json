{"ast":null,"code":"/*! @azure/msal-common v4.5.1 2021-08-02 */\n'use strict';\n\nimport { AUTHORITY_METADATA_CONSTANTS } from '../../utils/Constants.js';\nimport { TimeUtils } from '../../utils/TimeUtils.js';\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n\nvar AuthorityMetadataEntity = function () {\n  function AuthorityMetadataEntity() {\n    this.expiresAt = TimeUtils.nowSeconds() + AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\n  }\n  /**\r\n   * Update the entity with new aliases, preferred_cache and preferred_network values\r\n   * @param metadata\r\n   * @param fromNetwork\r\n   */\n\n\n  AuthorityMetadataEntity.prototype.updateCloudDiscoveryMetadata = function (metadata, fromNetwork) {\n    this.aliases = metadata.aliases;\n    this.preferred_cache = metadata.preferred_cache;\n    this.preferred_network = metadata.preferred_network;\n    this.aliasesFromNetwork = fromNetwork;\n  };\n  /**\r\n   * Update the entity with new endpoints\r\n   * @param metadata\r\n   * @param fromNetwork\r\n   */\n\n\n  AuthorityMetadataEntity.prototype.updateEndpointMetadata = function (metadata, fromNetwork) {\n    this.authorization_endpoint = metadata.authorization_endpoint;\n    this.token_endpoint = metadata.token_endpoint;\n    this.end_session_endpoint = metadata.end_session_endpoint;\n    this.issuer = metadata.issuer;\n    this.endpointsFromNetwork = fromNetwork;\n  };\n  /**\r\n   * Save the authority that was used to create this cache entry\r\n   * @param authority\r\n   */\n\n\n  AuthorityMetadataEntity.prototype.updateCanonicalAuthority = function (authority) {\n    this.canonical_authority = authority;\n  };\n  /**\r\n   * Reset the exiresAt value\r\n   */\n\n\n  AuthorityMetadataEntity.prototype.resetExpiresAt = function () {\n    this.expiresAt = TimeUtils.nowSeconds() + AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\n  };\n  /**\r\n   * Returns whether or not the data needs to be refreshed\r\n   */\n\n\n  AuthorityMetadataEntity.prototype.isExpired = function () {\n    return this.expiresAt <= TimeUtils.nowSeconds();\n  };\n  /**\r\n   * Validates an entity: checks for all expected params\r\n   * @param entity\r\n   */\n\n\n  AuthorityMetadataEntity.isAuthorityMetadataEntity = function (key, entity) {\n    if (!entity) {\n      return false;\n    }\n\n    return key.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) === 0 && entity.hasOwnProperty(\"aliases\") && entity.hasOwnProperty(\"preferred_cache\") && entity.hasOwnProperty(\"preferred_network\") && entity.hasOwnProperty(\"canonical_authority\") && entity.hasOwnProperty(\"authorization_endpoint\") && entity.hasOwnProperty(\"token_endpoint\") && entity.hasOwnProperty(\"end_session_endpoint\") && entity.hasOwnProperty(\"issuer\") && entity.hasOwnProperty(\"aliasesFromNetwork\") && entity.hasOwnProperty(\"endpointsFromNetwork\") && entity.hasOwnProperty(\"expiresAt\");\n  };\n\n  return AuthorityMetadataEntity;\n}();\n\nexport { AuthorityMetadataEntity };","map":{"version":3,"sources":["C:/Users/admin/Downloads/igo2-lib-master/igo2-lib-master/node_modules/@azure/msal-common/dist/cache/entities/AuthorityMetadataEntity.js"],"names":["AUTHORITY_METADATA_CONSTANTS","TimeUtils","AuthorityMetadataEntity","expiresAt","nowSeconds","REFRESH_TIME_SECONDS","prototype","updateCloudDiscoveryMetadata","metadata","fromNetwork","aliases","preferred_cache","preferred_network","aliasesFromNetwork","updateEndpointMetadata","authorization_endpoint","token_endpoint","end_session_endpoint","issuer","endpointsFromNetwork","updateCanonicalAuthority","authority","canonical_authority","resetExpiresAt","isExpired","isAuthorityMetadataEntity","key","entity","indexOf","CACHE_KEY","hasOwnProperty"],"mappings":"AAAA;AACA;;AACA,SAASA,4BAAT,QAA6C,0BAA7C;AACA,SAASC,SAAT,QAA0B,0BAA1B;AAEA;AACA;AACA;AACA;;AACA,IAAIC,uBAAuB,GAAkB,YAAY;AACrD,WAASA,uBAAT,GAAmC;AAC/B,SAAKC,SAAL,GAAiBF,SAAS,CAACG,UAAV,KAAyBJ,4BAA4B,CAACK,oBAAvE;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIH,EAAAA,uBAAuB,CAACI,SAAxB,CAAkCC,4BAAlC,GAAiE,UAAUC,QAAV,EAAoBC,WAApB,EAAiC;AAC9F,SAAKC,OAAL,GAAeF,QAAQ,CAACE,OAAxB;AACA,SAAKC,eAAL,GAAuBH,QAAQ,CAACG,eAAhC;AACA,SAAKC,iBAAL,GAAyBJ,QAAQ,CAACI,iBAAlC;AACA,SAAKC,kBAAL,GAA0BJ,WAA1B;AACH,GALD;AAMA;AACJ;AACA;AACA;AACA;;;AACIP,EAAAA,uBAAuB,CAACI,SAAxB,CAAkCQ,sBAAlC,GAA2D,UAAUN,QAAV,EAAoBC,WAApB,EAAiC;AACxF,SAAKM,sBAAL,GAA8BP,QAAQ,CAACO,sBAAvC;AACA,SAAKC,cAAL,GAAsBR,QAAQ,CAACQ,cAA/B;AACA,SAAKC,oBAAL,GAA4BT,QAAQ,CAACS,oBAArC;AACA,SAAKC,MAAL,GAAcV,QAAQ,CAACU,MAAvB;AACA,SAAKC,oBAAL,GAA4BV,WAA5B;AACH,GAND;AAOA;AACJ;AACA;AACA;;;AACIP,EAAAA,uBAAuB,CAACI,SAAxB,CAAkCc,wBAAlC,GAA6D,UAAUC,SAAV,EAAqB;AAC9E,SAAKC,mBAAL,GAA2BD,SAA3B;AACH,GAFD;AAGA;AACJ;AACA;;;AACInB,EAAAA,uBAAuB,CAACI,SAAxB,CAAkCiB,cAAlC,GAAmD,YAAY;AAC3D,SAAKpB,SAAL,GAAiBF,SAAS,CAACG,UAAV,KAAyBJ,4BAA4B,CAACK,oBAAvE;AACH,GAFD;AAGA;AACJ;AACA;;;AACIH,EAAAA,uBAAuB,CAACI,SAAxB,CAAkCkB,SAAlC,GAA8C,YAAY;AACtD,WAAO,KAAKrB,SAAL,IAAkBF,SAAS,CAACG,UAAV,EAAzB;AACH,GAFD;AAGA;AACJ;AACA;AACA;;;AACIF,EAAAA,uBAAuB,CAACuB,yBAAxB,GAAoD,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AACvE,QAAI,CAACA,MAAL,EAAa;AACT,aAAO,KAAP;AACH;;AACD,WAAQD,GAAG,CAACE,OAAJ,CAAY5B,4BAA4B,CAAC6B,SAAzC,MAAwD,CAAxD,IACJF,MAAM,CAACG,cAAP,CAAsB,SAAtB,CADI,IAEJH,MAAM,CAACG,cAAP,CAAsB,iBAAtB,CAFI,IAGJH,MAAM,CAACG,cAAP,CAAsB,mBAAtB,CAHI,IAIJH,MAAM,CAACG,cAAP,CAAsB,qBAAtB,CAJI,IAKJH,MAAM,CAACG,cAAP,CAAsB,wBAAtB,CALI,IAMJH,MAAM,CAACG,cAAP,CAAsB,gBAAtB,CANI,IAOJH,MAAM,CAACG,cAAP,CAAsB,sBAAtB,CAPI,IAQJH,MAAM,CAACG,cAAP,CAAsB,QAAtB,CARI,IASJH,MAAM,CAACG,cAAP,CAAsB,oBAAtB,CATI,IAUJH,MAAM,CAACG,cAAP,CAAsB,sBAAtB,CAVI,IAWJH,MAAM,CAACG,cAAP,CAAsB,WAAtB,CAXJ;AAYH,GAhBD;;AAiBA,SAAO5B,uBAAP;AACH,CApE4C,EAA7C;;AAsEA,SAASA,uBAAT","sourcesContent":["/*! @azure/msal-common v4.5.1 2021-08-02 */\n'use strict';\nimport { AUTHORITY_METADATA_CONSTANTS } from '../../utils/Constants.js';\nimport { TimeUtils } from '../../utils/TimeUtils.js';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\nvar AuthorityMetadataEntity = /** @class */ (function () {\r\n    function AuthorityMetadataEntity() {\r\n        this.expiresAt = TimeUtils.nowSeconds() + AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\r\n    }\r\n    /**\r\n     * Update the entity with new aliases, preferred_cache and preferred_network values\r\n     * @param metadata\r\n     * @param fromNetwork\r\n     */\r\n    AuthorityMetadataEntity.prototype.updateCloudDiscoveryMetadata = function (metadata, fromNetwork) {\r\n        this.aliases = metadata.aliases;\r\n        this.preferred_cache = metadata.preferred_cache;\r\n        this.preferred_network = metadata.preferred_network;\r\n        this.aliasesFromNetwork = fromNetwork;\r\n    };\r\n    /**\r\n     * Update the entity with new endpoints\r\n     * @param metadata\r\n     * @param fromNetwork\r\n     */\r\n    AuthorityMetadataEntity.prototype.updateEndpointMetadata = function (metadata, fromNetwork) {\r\n        this.authorization_endpoint = metadata.authorization_endpoint;\r\n        this.token_endpoint = metadata.token_endpoint;\r\n        this.end_session_endpoint = metadata.end_session_endpoint;\r\n        this.issuer = metadata.issuer;\r\n        this.endpointsFromNetwork = fromNetwork;\r\n    };\r\n    /**\r\n     * Save the authority that was used to create this cache entry\r\n     * @param authority\r\n     */\r\n    AuthorityMetadataEntity.prototype.updateCanonicalAuthority = function (authority) {\r\n        this.canonical_authority = authority;\r\n    };\r\n    /**\r\n     * Reset the exiresAt value\r\n     */\r\n    AuthorityMetadataEntity.prototype.resetExpiresAt = function () {\r\n        this.expiresAt = TimeUtils.nowSeconds() + AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\r\n    };\r\n    /**\r\n     * Returns whether or not the data needs to be refreshed\r\n     */\r\n    AuthorityMetadataEntity.prototype.isExpired = function () {\r\n        return this.expiresAt <= TimeUtils.nowSeconds();\r\n    };\r\n    /**\r\n     * Validates an entity: checks for all expected params\r\n     * @param entity\r\n     */\r\n    AuthorityMetadataEntity.isAuthorityMetadataEntity = function (key, entity) {\r\n        if (!entity) {\r\n            return false;\r\n        }\r\n        return (key.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) === 0 &&\r\n            entity.hasOwnProperty(\"aliases\") &&\r\n            entity.hasOwnProperty(\"preferred_cache\") &&\r\n            entity.hasOwnProperty(\"preferred_network\") &&\r\n            entity.hasOwnProperty(\"canonical_authority\") &&\r\n            entity.hasOwnProperty(\"authorization_endpoint\") &&\r\n            entity.hasOwnProperty(\"token_endpoint\") &&\r\n            entity.hasOwnProperty(\"end_session_endpoint\") &&\r\n            entity.hasOwnProperty(\"issuer\") &&\r\n            entity.hasOwnProperty(\"aliasesFromNetwork\") &&\r\n            entity.hasOwnProperty(\"endpointsFromNetwork\") &&\r\n            entity.hasOwnProperty(\"expiresAt\"));\r\n    };\r\n    return AuthorityMetadataEntity;\r\n}());\n\nexport { AuthorityMetadataEntity };\n"]},"metadata":{},"sourceType":"module"}