{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport { ElementRef } from '@angular/core';\nimport * as proj from 'ol/proj';\nimport { LanguageService, MediaService } from '@igo2/core';\nimport { ActionStore } from '@igo2/common';\nimport { FEATURE, FeatureMotion, GoogleLinks, IgoMap, LayerService, MapService, ProjectionService, SearchService } from '@igo2/geo';\nimport { SearchState } from '@igo2/integration';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@igo2/core\";\nimport * as i2 from \"@igo2/geo\";\nimport * as i3 from \"@igo2/integration\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@igo2/common\";\nconst _c0 = [\"mapBrowser\"];\n\nfunction AppSearchComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \" F2 activate/deactivate the pointer location. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppSearchComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"igo-search-add-button\", 12);\n  }\n\n  if (rf & 2) {\n    const result_r7 = ctx.result;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"map\", ctx_r3.map)(\"layer\", result_r7);\n  }\n}\n\nfunction AppSearchComponent_igo_panel_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"igo-panel\", 11);\n    i0.ɵɵelement(1, \"igo-feature-details\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"feature\", ctx_r4.selectedFeature);\n  }\n}\n\nfunction AppSearchComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"igo-actionbar\", 14);\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"store\", ctx_r6.store)(\"withIcon\", false)(\"horizontal\", true)(\"mode\", \"context\");\n  }\n}\n\nexport let AppSearchComponent = /*#__PURE__*/(() => {\n  class AppSearchComponent {\n    constructor(languageService, projectionService, mapService, layerService, searchState, searchService, mediaService) {\n      this.languageService = languageService;\n      this.projectionService = projectionService;\n      this.mapService = mapService;\n      this.layerService = layerService;\n      this.searchState = searchState;\n      this.searchService = searchService;\n      this.mediaService = mediaService;\n      this.store = new ActionStore([]);\n      this.igoSearchPointerSummaryEnabled = false;\n      this.termSplitter = '|';\n      this.map = new IgoMap({\n        overlay: true,\n        controls: {\n          attribution: {\n            collapsed: true\n          }\n        }\n      });\n      this.view = {\n        center: [-73, 47.2],\n        zoom: 7\n      };\n      this.settingsChange$ = new BehaviorSubject(undefined);\n      this.mapService.setMap(this.map);\n      this.layerService.createAsyncLayer({\n        title: 'OSM',\n        sourceOptions: {\n          type: 'osm'\n        }\n      }).subscribe(layer => {\n        this.osmLayer = layer;\n        this.map.addLayer(layer);\n      });\n    }\n\n    get searchStore() {\n      return this.searchState.store;\n    }\n\n    get isTouchScreen() {\n      return this.mediaService.isTouchScreen();\n    }\n\n    onPointerSummaryStatusChange(value) {\n      this.igoSearchPointerSummaryEnabled = value;\n    }\n\n    onSearchTermChange(term = '') {\n      this.term = term;\n      const termWithoutHashtag = term.replace(/(#[^\\s]*)/g, '').trim();\n\n      if (termWithoutHashtag.length < 2) {\n        this.searchStore.clear();\n        this.selectedFeature = undefined;\n      }\n    }\n\n    onSearch(event) {\n      const results = event.results;\n      this.searchStore.state.updateAll({\n        focused: false,\n        selected: false\n      });\n      const newResults = this.searchStore.entities$.value.filter(result => result.source !== event.research.source).concat(results);\n      this.searchStore.updateMany(newResults);\n    }\n\n    onSearchSettingsChange() {\n      this.settingsChange$.next(true);\n    }\n    /**\r\n     * Try to add a feature to the map when it's being focused\r\n     * @internal\r\n     * @param result A search result that could be a feature\r\n     */\n\n\n    onResultFocus(result) {\n      this.tryAddFeatureToMap(result);\n      this.selectedFeature = result.data;\n    }\n    /**\r\n     * Try to add a feature to the map overlay\r\n     * @param layer A search result that could be a feature\r\n     */\n\n\n    tryAddFeatureToMap(layer) {\n      if (layer.meta.dataType !== FEATURE) {\n        return undefined;\n      } // Somethimes features have no geometry. It happens with some GetFeatureInfo\n\n\n      if (layer.data.geometry === undefined) {\n        return;\n      }\n\n      this.map.searchResultsOverlay.setFeatures([layer.data], FeatureMotion.Default);\n    }\n\n    ngOnInit() {\n      this.store.load([{\n        id: 'coordinates',\n        title: 'coordinates',\n        handler: this.onSearchCoordinate.bind(this)\n      }, {\n        id: 'googleMaps',\n        title: 'googleMap',\n        handler: this.onOpenGoogleMaps.bind(this),\n        args: ['1']\n      }, {\n        id: 'googleStreetView',\n        title: 'googleStreetView',\n        handler: this.onOpenGoogleStreetView.bind(this)\n      }]);\n    }\n\n    ngOnDestroy() {\n      this.store.destroy();\n    }\n    /*\r\n     * Remove a feature to the map overlay\r\n     */\n\n\n    removeFeatureFromMap() {\n      this.map.searchResultsOverlay.clear();\n    }\n\n    onContextMenuOpen(event) {\n      const position = this.mapPosition(event);\n      const coord = this.mapService.getMap().ol.getCoordinateFromPixel(position);\n      this.mapProjection = this.mapService.getMap().projection;\n      this.lonlat = proj.transform(coord, this.mapProjection, 'EPSG:4326');\n    }\n\n    mapPosition(event) {\n      const contextmenuPoint = event;\n      contextmenuPoint.y = contextmenuPoint.y - this.mapBrowser.nativeElement.getBoundingClientRect().top + window.scrollY;\n      contextmenuPoint.x = contextmenuPoint.x - this.mapBrowser.nativeElement.getBoundingClientRect().left + window.scrollX;\n      const position = [contextmenuPoint.x, contextmenuPoint.y];\n      return position;\n    }\n\n    onPointerSearch(event) {\n      this.lonlat = event;\n      this.onSearchCoordinate();\n    }\n\n    onSearchCoordinate() {\n      this.searchStore.clear();\n      const results = this.searchService.reverseSearch(this.lonlat);\n\n      for (const i in results) {\n        if (results.length > 0) {\n          results[i].request.subscribe(_results => {\n            this.onSearch({\n              research: results[i],\n              results: _results\n            });\n          });\n        }\n      }\n    }\n\n    onOpenGoogleMaps() {\n      window.open(GoogleLinks.getGoogleMapsCoordLink(this.lonlat[0], this.lonlat[1]));\n    }\n\n    onOpenGoogleStreetView() {\n      window.open(GoogleLinks.getGoogleStreetViewLink(this.lonlat[0], this.lonlat[1]));\n    }\n\n  }\n\n  AppSearchComponent.ɵfac = function AppSearchComponent_Factory(t) {\n    return new (t || AppSearchComponent)(i0.ɵɵdirectiveInject(i1.LanguageService), i0.ɵɵdirectiveInject(i2.ProjectionService), i0.ɵɵdirectiveInject(i2.MapService), i0.ɵɵdirectiveInject(i2.LayerService), i0.ɵɵdirectiveInject(i3.SearchState), i0.ɵɵdirectiveInject(i2.SearchService), i0.ɵɵdirectiveInject(i1.MediaService));\n  };\n\n  AppSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppSearchComponent,\n    selectors: [[\"app-search\"]],\n    viewQuery: function AppSearchComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7, ElementRef);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapBrowser = _t.first);\n      }\n    },\n    decls: 30,\n    vars: 15,\n    consts: [[\"href\", \"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/app/geo/search\"], [\"href\", \"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/environments\"], [\"title\", \"Details\", 4, \"ngIf\"], [\"igoOverlay\", \"\", \"igoSearchPointerSummary\", \"\", 3, \"map\", \"view\", \"igoContextMenu\", \"igoSearchPointerSummaryDelay\", \"igoSearchPointerSummaryEnabled\", \"menuPosition\"], [\"mapBrowser\", \"\"], [\"color\", \"primary\", 3, \"map\"], [\"title\", \"Search\"], [3, \"searchSettings\", \"store\", \"termSplitter\", \"pointerSummaryStatus\", \"searchTermChange\", \"search\", \"clearFeature\", \"searchSettingsChange\"], [\"placeholder\", \"false\", 3, \"store\", \"term\", \"termSplitter\", \"settingsChange$\", \"resultFocus\", \"resultSelect\", \"moreResults\"], [\"igoSearchItemToolbar\", \"\"], [\"actionbarMenu\", \"\"], [\"title\", \"Details\"], [3, \"map\", \"layer\"], [3, \"feature\"], [3, \"store\", \"withIcon\", \"horizontal\", \"mode\"]],\n    template: function AppSearchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\");\n        i0.ɵɵelementStart(1, \"mat-card-subtitle\");\n        i0.ɵɵtext(2, \"Geo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"mat-card-title\");\n        i0.ɵɵtext(4, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-card-content\");\n        i0.ɵɵelementStart(6, \"li\");\n        i0.ɵɵtext(7, \"Dependencies: ConfigService, LanguageService\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"br\");\n        i0.ɵɵtext(9, \" See the \");\n        i0.ɵɵelementStart(10, \"a\", 0);\n        i0.ɵɵtext(11, \"code of this example\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"br\");\n        i0.ɵɵtext(13, \" See search section of the \");\n        i0.ɵɵelementStart(14, \"a\", 1);\n        i0.ɵɵtext(15, \" environment config\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"hr\");\n        i0.ɵɵelement(17, \"br\");\n        i0.ɵɵtemplate(18, AppSearchComponent_span_18_Template, 2, 0, \"span\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"igo-map-browser\", 3, 4);\n        i0.ɵɵlistener(\"menuPosition\", function AppSearchComponent_Template_igo_map_browser_menuPosition_19_listener($event) {\n          return ctx.onContextMenuOpen($event);\n        });\n        i0.ɵɵelement(21, \"igo-zoom-button\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"igo-panel\", 6);\n        i0.ɵɵelementStart(23, \"igo-search-bar\", 7);\n        i0.ɵɵlistener(\"pointerSummaryStatus\", function AppSearchComponent_Template_igo_search_bar_pointerSummaryStatus_23_listener($event) {\n          return ctx.onPointerSummaryStatusChange($event);\n        })(\"searchTermChange\", function AppSearchComponent_Template_igo_search_bar_searchTermChange_23_listener($event) {\n          return ctx.onSearchTermChange($event);\n        })(\"search\", function AppSearchComponent_Template_igo_search_bar_search_23_listener($event) {\n          return ctx.onSearch($event);\n        })(\"clearFeature\", function AppSearchComponent_Template_igo_search_bar_clearFeature_23_listener() {\n          return ctx.removeFeatureFromMap();\n        })(\"searchSettingsChange\", function AppSearchComponent_Template_igo_search_bar_searchSettingsChange_23_listener() {\n          return ctx.onSearchSettingsChange();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"igo-search-results\", 8);\n        i0.ɵɵlistener(\"resultFocus\", function AppSearchComponent_Template_igo_search_results_resultFocus_24_listener($event) {\n          return ctx.onResultFocus($event);\n        })(\"resultSelect\", function AppSearchComponent_Template_igo_search_results_resultSelect_24_listener($event) {\n          return ctx.onResultFocus($event);\n        })(\"moreResults\", function AppSearchComponent_Template_igo_search_results_moreResults_24_listener($event) {\n          return ctx.onSearch($event);\n        });\n        i0.ɵɵtemplate(25, AppSearchComponent_ng_template_25_Template, 1, 2, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(27, AppSearchComponent_igo_panel_27_Template, 2, 1, \"igo-panel\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, AppSearchComponent_ng_template_28_Template, 1, 4, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r5 = i0.ɵɵreference(29);\n\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isTouchScreen);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"map\", ctx.map)(\"view\", ctx.view)(\"igoContextMenu\", _r5)(\"igoSearchPointerSummaryDelay\", 500)(\"igoSearchPointerSummaryEnabled\", ctx.igoSearchPointerSummaryEnabled);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"map\", ctx.map);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"searchSettings\", true)(\"store\", ctx.searchStore)(\"termSplitter\", ctx.termSplitter);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"store\", ctx.searchStore)(\"term\", ctx.term)(\"termSplitter\", ctx.termSplitter)(\"settingsChange$\", ctx.settingsChange$);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedFeature);\n      }\n    },\n    directives: [i4.MatCard, i4.MatCardSubtitle, i4.MatCardTitle, i4.MatCardContent, i5.NgIf, i2.MapBrowserComponent, i2.SearchPointerSummaryDirective, i6.ContextMenuDirective, i2.ZoomButtonComponent, i6.PanelComponent, i2.SearchBarComponent, i2.SearchResultsComponent, i2.SearchResultAddButtonComponent, i2.FeatureDetailsComponent, i6.ActionbarComponent],\n    styles: [\"igo-map-browser[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 300px;\\n}\\n\\nigo-panel[_ngcontent-%COMP%] {\\n  height: 100%;\\n  width: 100%;\\n  padding-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0FBQ0YiLCJmaWxlIjoic2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaWdvLW1hcC1icm93c2VyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMzAwcHg7XG59XG5cbmlnby1wYW5lbCB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xufVxuIl19 */\"]\n  });\n  return AppSearchComponent;\n})();","map":{"version":3,"sources":["C:\\Users\\admin\\Downloads\\igo2-lib-master\\igo2-lib-master\\demo\\src\\app\\geo\\search\\search.component.ts","C:\\Users\\admin\\Downloads\\igo2-lib-master\\igo2-lib-master\\demo\\src\\app\\geo\\search\\search.component.html"],"names":[],"mappings":"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","sourcesContent":["import { BehaviorSubject } from 'rxjs';\nimport {\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport * as proj from 'ol/proj';\n\nimport { LanguageService, MediaService } from '@igo2/core';\nimport { EntityStore, ActionStore } from '@igo2/common';\nimport {\n  FEATURE,\n  Feature,\n  FeatureMotion,\n  GoogleLinks,\n  IgoMap,\n  LayerService,\n  MapService,\n  Layer,\n  ProjectionService,\n  Research,\n  SearchResult,\n  SearchService\n} from '@igo2/geo';\n\nimport { SearchState } from '@igo2/integration';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss']\n})\nexport class AppSearchComponent implements OnInit, OnDestroy {\n  public store = new ActionStore([]);\n\n  public igoSearchPointerSummaryEnabled: boolean = false;\n\n  public termSplitter: string = '|';\n\n  public map = new IgoMap({\n    overlay: true,\n    controls: {\n      attribution: {\n        collapsed: true\n      }\n    }\n  });\n\n  public view = {\n    center: [-73, 47.2],\n    zoom: 7\n  };\n\n  public osmLayer: Layer;\n\n  @ViewChild('mapBrowser', { read: ElementRef, static: true }) mapBrowser: ElementRef;\n\n  public lonlat;\n  public mapProjection: string;\n  public term: string;\n\n  public settingsChange$ = new BehaviorSubject<boolean>(undefined);\n\n  get searchStore(): EntityStore<SearchResult> {\n    return this.searchState.store;\n  }\n\n  get isTouchScreen(): boolean {\n    return this.mediaService.isTouchScreen();\n  }\n\n  public selectedFeature: Feature;\n\n  constructor(\n    private languageService: LanguageService,\n    private projectionService: ProjectionService,\n    private mapService: MapService,\n    private layerService: LayerService,\n    private searchState: SearchState,\n    private searchService: SearchService,\n    private mediaService: MediaService\n  ) {\n    this.mapService.setMap(this.map);\n\n    this.layerService\n      .createAsyncLayer({\n        title: 'OSM',\n        sourceOptions: {\n          type: 'osm'\n        }\n      })\n      .subscribe(layer => {\n        this.osmLayer = layer;\n        this.map.addLayer(layer);\n      });\n  }\n\n  onPointerSummaryStatusChange(value) {\n    this.igoSearchPointerSummaryEnabled = value;\n  }\n\n  onSearchTermChange(term = '') {\n    this.term = term;\n    const termWithoutHashtag = term.replace(/(#[^\\s]*)/g, '').trim();\n    if (termWithoutHashtag.length < 2) {\n      this.searchStore.clear();\n      this.selectedFeature = undefined;\n    }\n  }\n\n  onSearch(event: { research: Research; results: SearchResult[] }) {\n    const results = event.results;\n    this.searchStore.state.updateAll({ focused: false, selected: false });\n    const newResults = this.searchStore.entities$.value\n      .filter((result: SearchResult) => result.source !== event.research.source)\n      .concat(results);\n    this.searchStore.updateMany(newResults);\n  }\n\n  onSearchSettingsChange() {\n    this.settingsChange$.next(true);\n  }\n\n  /**\n   * Try to add a feature to the map when it's being focused\n   * @internal\n   * @param result A search result that could be a feature\n   */\n  onResultFocus(result: SearchResult) {\n    this.tryAddFeatureToMap(result);\n    this.selectedFeature = (result as SearchResult<Feature>).data;\n  }\n\n  /**\n   * Try to add a feature to the map overlay\n   * @param layer A search result that could be a feature\n   */\n  private tryAddFeatureToMap(layer: SearchResult) {\n    if (layer.meta.dataType !== FEATURE) {\n      return undefined;\n    }\n\n    // Somethimes features have no geometry. It happens with some GetFeatureInfo\n    if (layer.data.geometry === undefined) {\n      return;\n    }\n\n    this.map.searchResultsOverlay.setFeatures(\n      [layer.data] as Feature[],\n      FeatureMotion.Default\n    );\n  }\n\n  ngOnInit() {\n    this.store.load([\n      {\n        id: 'coordinates',\n        title: 'coordinates',\n        handler: this.onSearchCoordinate.bind(this)\n      },\n      {\n        id: 'googleMaps',\n        title: 'googleMap',\n        handler: this.onOpenGoogleMaps.bind(this),\n        args: ['1']\n      },\n      {\n        id: 'googleStreetView',\n        title: 'googleStreetView',\n        handler: this.onOpenGoogleStreetView.bind(this)\n      }\n    ]);\n  }\n\n  ngOnDestroy() {\n    this.store.destroy();\n  }\n\n  /*\n   * Remove a feature to the map overlay\n   */\n  removeFeatureFromMap() {\n    this.map.searchResultsOverlay.clear();\n  }\n\n  onContextMenuOpen(event: { x: number; y: number }) {\n    const position = this.mapPosition(event);\n    const coord = this.mapService.getMap().ol.getCoordinateFromPixel(position);\n    this.mapProjection = this.mapService.getMap().projection;\n    this.lonlat = proj.transform(coord, this.mapProjection, 'EPSG:4326');\n  }\n\n  mapPosition(event: { x: number; y: number }) {\n    const contextmenuPoint = event;\n    contextmenuPoint.y =\n      contextmenuPoint.y -\n      this.mapBrowser.nativeElement.getBoundingClientRect().top +\n      window.scrollY;\n    contextmenuPoint.x =\n      contextmenuPoint.x -\n      this.mapBrowser.nativeElement.getBoundingClientRect().left +\n      window.scrollX;\n    const position = [contextmenuPoint.x, contextmenuPoint.y];\n    return position;\n  }\n\n  onPointerSearch(event) {\n    this.lonlat = event;\n    this.onSearchCoordinate();\n  }\n\n  onSearchCoordinate() {\n    this.searchStore.clear();\n    const results = this.searchService.reverseSearch(this.lonlat);\n\n    for (const i in results) {\n      if (results.length > 0) {\n        results[i].request.subscribe((_results: SearchResult<Feature>[]) => {\n          this.onSearch({ research: results[i], results: _results });\n        });\n      }\n    }\n  }\n\n  onOpenGoogleMaps() {\n    window.open(GoogleLinks.getGoogleMapsCoordLink(this.lonlat[0], this.lonlat[1]));\n  }\n\n  onOpenGoogleStreetView() {\n    window.open(\n      GoogleLinks.getGoogleStreetViewLink(this.lonlat[0], this.lonlat[1])\n    );\n  }\n}\n","<mat-card>\n  <mat-card-subtitle>Geo</mat-card-subtitle>\n  <mat-card-title>Search</mat-card-title>\n  <mat-card-content>\n    <li>Dependencies: ConfigService, LanguageService</li>\n\n    <br>\n    See the <a href=\"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/app/geo/search\">code of this example</a><br>\n    See search section of the <a href=\"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/environments\"> environment config</a>\n    <hr>\n    <br>\n    <span *ngIf=\"!isTouchScreen\" title=\"Details\">\n      F2 activate/deactivate the pointer location.\n    </span>\n  </mat-card-content>\n\n  <igo-map-browser #mapBrowser [map]=\"map\" [view]=\"view\" igoOverlay [igoContextMenu]=actionbarMenu\n\n    igoSearchPointerSummary\n    [igoSearchPointerSummaryDelay]=\"500\"\n    [igoSearchPointerSummaryEnabled]=\"igoSearchPointerSummaryEnabled\"\n    (menuPosition)=\"onContextMenuOpen($event)\">\n    <igo-zoom-button [map]=\"map\" color=\"primary\"></igo-zoom-button>\n  </igo-map-browser>\n\n  <igo-panel title=\"Search\">\n    <igo-search-bar\n      (pointerSummaryStatus)=\"onPointerSummaryStatusChange($event)\"\n      [searchSettings]=\"true\"\n      [store]=\"searchStore\"\n      [termSplitter]=\"termSplitter\"\n      (searchTermChange)=\"onSearchTermChange($event)\"\n      (search)=\"onSearch($event)\"\n      (clearFeature)=\"removeFeatureFromMap()\"\n      (searchSettingsChange)=\"onSearchSettingsChange()\">\n    </igo-search-bar>\n\n    <igo-search-results\n      [store]=\"searchStore\"\n      [term]=\"term\"\n      [termSplitter]=\"termSplitter\"\n      placeholder=\"false\"\n      [settingsChange$]=\"settingsChange$\"\n      (resultFocus)=\"onResultFocus($event)\"\n      (resultSelect)=\"onResultFocus($event)\"\n      (moreResults)=\"onSearch($event)\">\n        <ng-template #igoSearchItemToolbar let-result=\"result\">\n          <igo-search-add-button\n            [map]=\"map\"\n            [layer]=\"result\">\n          </igo-search-add-button>\n        </ng-template>\n    </igo-search-results>\n\n  </igo-panel>\n\n  <igo-panel *ngIf=\"selectedFeature\" title=\"Details\">\n    <igo-feature-details [feature]=\"selectedFeature\"></igo-feature-details>\n  </igo-panel>\n\n</mat-card>\n\n<ng-template #actionbarMenu>\n  <igo-actionbar\n    [store]=\"store\"\n    [withIcon]=\"false\"\n    [horizontal]=\"true\"\n    [mode]=\"'context'\">\n  </igo-actionbar>\n</ng-template>\n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}