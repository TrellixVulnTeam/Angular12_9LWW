{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/geom/GeometryCollection\n */\n\n\nimport EventType from '../events/EventType.js';\nimport Geometry from './Geometry.js';\nimport GeometryType from './GeometryType.js';\nimport { closestSquaredDistanceXY, createOrUpdateEmpty, extend, getCenter } from '../extent.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @classdesc\n * An array of {@link module:ol/geom/Geometry} objects.\n *\n * @api\n */\n\nvar GeometryCollection = function (_super) {\n  __extends(GeometryCollection, _super);\n  /**\n   * @param {Array<Geometry>} [opt_geometries] Geometries.\n   */\n\n\n  function GeometryCollection(opt_geometries) {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     * @type {Array<Geometry>}\n     */\n\n\n    _this.geometries_ = opt_geometries ? opt_geometries : null;\n    /**\n     * @type {Array<import(\"../events.js\").EventsKey>}\n     */\n\n    _this.changeEventsKeys_ = [];\n\n    _this.listenGeometriesChange_();\n\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  GeometryCollection.prototype.unlistenGeometriesChange_ = function () {\n    this.changeEventsKeys_.forEach(unlistenByKey);\n    this.changeEventsKeys_.length = 0;\n  };\n  /**\n   * @private\n   */\n\n\n  GeometryCollection.prototype.listenGeometriesChange_ = function () {\n    if (!this.geometries_) {\n      return;\n    }\n\n    for (var i = 0, ii = this.geometries_.length; i < ii; ++i) {\n      this.changeEventsKeys_.push(listen(this.geometries_[i], EventType.CHANGE, this.changed, this));\n    }\n  };\n  /**\n   * Make a complete copy of the geometry.\n   * @return {!GeometryCollection} Clone.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.clone = function () {\n    var geometryCollection = new GeometryCollection(null);\n    geometryCollection.setGeometries(this.geometries_);\n    geometryCollection.applyProperties(this);\n    return geometryCollection;\n  };\n  /**\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @return {number} Minimum squared distance.\n   */\n\n\n  GeometryCollection.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n    if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n      return minSquaredDistance;\n    }\n\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      minSquaredDistance = geometries[i].closestPointXY(x, y, closestPoint, minSquaredDistance);\n    }\n\n    return minSquaredDistance;\n  };\n  /**\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n\n\n  GeometryCollection.prototype.containsXY = function (x, y) {\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      if (geometries[i].containsXY(x, y)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @protected\n   * @return {import(\"../extent.js\").Extent} extent Extent.\n   */\n\n\n  GeometryCollection.prototype.computeExtent = function (extent) {\n    createOrUpdateEmpty(extent);\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      extend(extent, geometries[i].getExtent());\n    }\n\n    return extent;\n  };\n  /**\n   * Return the geometries that make up this geometry collection.\n   * @return {Array<Geometry>} Geometries.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.getGeometries = function () {\n    return cloneGeometries(this.geometries_);\n  };\n  /**\n   * @return {Array<Geometry>} Geometries.\n   */\n\n\n  GeometryCollection.prototype.getGeometriesArray = function () {\n    return this.geometries_;\n  };\n  /**\n   * @return {Array<Geometry>} Geometries.\n   */\n\n\n  GeometryCollection.prototype.getGeometriesArrayRecursive = function () {\n    /** @type {Array<Geometry>} */\n    var geometriesArray = [];\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      if (geometries[i].getType() === this.getType()) {\n        geometriesArray = geometriesArray.concat(\n        /** @type {GeometryCollection} */\n        geometries[i].getGeometriesArrayRecursive());\n      } else {\n        geometriesArray.push(geometries[i]);\n      }\n    }\n\n    return geometriesArray;\n  };\n  /**\n   * Create a simplified version of this geometry using the Douglas Peucker algorithm.\n   * @param {number} squaredTolerance Squared tolerance.\n   * @return {GeometryCollection} Simplified GeometryCollection.\n   */\n\n\n  GeometryCollection.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n    if (this.simplifiedGeometryRevision !== this.getRevision()) {\n      this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n      this.simplifiedGeometryRevision = this.getRevision();\n    }\n\n    if (squaredTolerance < 0 || this.simplifiedGeometryMaxMinSquaredTolerance !== 0 && squaredTolerance < this.simplifiedGeometryMaxMinSquaredTolerance) {\n      return this;\n    }\n\n    var simplifiedGeometries = [];\n    var geometries = this.geometries_;\n    var simplified = false;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      var geometry = geometries[i];\n      var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n      simplifiedGeometries.push(simplifiedGeometry);\n\n      if (simplifiedGeometry !== geometry) {\n        simplified = true;\n      }\n    }\n\n    if (simplified) {\n      var simplifiedGeometryCollection = new GeometryCollection(null);\n      simplifiedGeometryCollection.setGeometriesArray(simplifiedGeometries);\n      return simplifiedGeometryCollection;\n    } else {\n      this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n      return this;\n    }\n  };\n  /**\n   * Get the type of this geometry.\n   * @return {import(\"./GeometryType.js\").default} Geometry type.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.getType = function () {\n    return GeometryType.GEOMETRY_COLLECTION;\n  };\n  /**\n   * Test if the geometry and the passed extent intersect.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @return {boolean} `true` if the geometry and the extent intersect.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.intersectsExtent = function (extent) {\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      if (geometries[i].intersectsExtent(extent)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * @return {boolean} Is empty.\n   */\n\n\n  GeometryCollection.prototype.isEmpty = function () {\n    return this.geometries_.length === 0;\n  };\n  /**\n   * Rotate the geometry around a given coordinate. This modifies the geometry\n   * coordinates in place.\n   * @param {number} angle Rotation angle in radians.\n   * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.rotate = function (angle, anchor) {\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      geometries[i].rotate(angle, anchor);\n    }\n\n    this.changed();\n  };\n  /**\n   * Scale the geometry (with an optional origin).  This modifies the geometry\n   * coordinates in place.\n   * @abstract\n   * @param {number} sx The scaling factor in the x-direction.\n   * @param {number} [opt_sy] The scaling factor in the y-direction (defaults to sx).\n   * @param {import(\"../coordinate.js\").Coordinate} [opt_anchor] The scale origin (defaults to the center\n   *     of the geometry extent).\n   * @api\n   */\n\n\n  GeometryCollection.prototype.scale = function (sx, opt_sy, opt_anchor) {\n    var anchor = opt_anchor;\n\n    if (!anchor) {\n      anchor = getCenter(this.getExtent());\n    }\n\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      geometries[i].scale(sx, opt_sy, anchor);\n    }\n\n    this.changed();\n  };\n  /**\n   * Set the geometries that make up this geometry collection.\n   * @param {Array<Geometry>} geometries Geometries.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.setGeometries = function (geometries) {\n    this.setGeometriesArray(cloneGeometries(geometries));\n  };\n  /**\n   * @param {Array<Geometry>} geometries Geometries.\n   */\n\n\n  GeometryCollection.prototype.setGeometriesArray = function (geometries) {\n    this.unlistenGeometriesChange_();\n    this.geometries_ = geometries;\n    this.listenGeometriesChange_();\n    this.changed();\n  };\n  /**\n   * Apply a transform function to the coordinates of the geometry.\n   * The geometry is modified in place.\n   * If you do not want the geometry modified in place, first `clone()` it and\n   * then use this function on the clone.\n   * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n   * Called with a flat array of geometry coordinates.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.applyTransform = function (transformFn) {\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      geometries[i].applyTransform(transformFn);\n    }\n\n    this.changed();\n  };\n  /**\n   * Translate the geometry.  This modifies the geometry coordinates in place.  If\n   * instead you want a new geometry, first `clone()` this geometry.\n   * @param {number} deltaX Delta X.\n   * @param {number} deltaY Delta Y.\n   * @api\n   */\n\n\n  GeometryCollection.prototype.translate = function (deltaX, deltaY) {\n    var geometries = this.geometries_;\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      geometries[i].translate(deltaX, deltaY);\n    }\n\n    this.changed();\n  };\n  /**\n   * Clean up.\n   */\n\n\n  GeometryCollection.prototype.disposeInternal = function () {\n    this.unlistenGeometriesChange_();\n\n    _super.prototype.disposeInternal.call(this);\n  };\n\n  return GeometryCollection;\n}(Geometry);\n/**\n * @param {Array<Geometry>} geometries Geometries.\n * @return {Array<Geometry>} Cloned geometries.\n */\n\n\nfunction cloneGeometries(geometries) {\n  var clonedGeometries = [];\n\n  for (var i = 0, ii = geometries.length; i < ii; ++i) {\n    clonedGeometries.push(geometries[i].clone());\n  }\n\n  return clonedGeometries;\n}\n\nexport default GeometryCollection;","map":{"version":3,"sources":["C:/Users/admin/Downloads/angular/igo2-lib-master/node_modules/ol/geom/GeometryCollection.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","EventType","Geometry","GeometryType","closestSquaredDistanceXY","createOrUpdateEmpty","extend","getCenter","listen","unlistenByKey","GeometryCollection","_super","opt_geometries","_this","geometries_","changeEventsKeys_","listenGeometriesChange_","unlistenGeometriesChange_","forEach","length","i","ii","push","CHANGE","changed","clone","geometryCollection","setGeometries","applyProperties","closestPointXY","x","y","closestPoint","minSquaredDistance","getExtent","geometries","containsXY","computeExtent","extent","getGeometries","cloneGeometries","getGeometriesArray","getGeometriesArrayRecursive","geometriesArray","getType","concat","getSimplifiedGeometry","squaredTolerance","simplifiedGeometryRevision","getRevision","simplifiedGeometryMaxMinSquaredTolerance","simplifiedGeometries","simplified","geometry","simplifiedGeometry","simplifiedGeometryCollection","setGeometriesArray","GEOMETRY_COLLECTION","intersectsExtent","isEmpty","rotate","angle","anchor","scale","sx","opt_sy","opt_anchor","applyTransform","transformFn","translate","deltaX","deltaY","disposeInternal","clonedGeometries"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/GeometryCollection\n */\nimport EventType from '../events/EventType.js';\nimport Geometry from './Geometry.js';\nimport GeometryType from './GeometryType.js';\nimport { closestSquaredDistanceXY, createOrUpdateEmpty, extend, getCenter, } from '../extent.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @classdesc\n * An array of {@link module:ol/geom/Geometry} objects.\n *\n * @api\n */\nvar GeometryCollection = /** @class */ (function (_super) {\n    __extends(GeometryCollection, _super);\n    /**\n     * @param {Array<Geometry>} [opt_geometries] Geometries.\n     */\n    function GeometryCollection(opt_geometries) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {Array<Geometry>}\n         */\n        _this.geometries_ = opt_geometries ? opt_geometries : null;\n        /**\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.changeEventsKeys_ = [];\n        _this.listenGeometriesChange_();\n        return _this;\n    }\n    /**\n     * @private\n     */\n    GeometryCollection.prototype.unlistenGeometriesChange_ = function () {\n        this.changeEventsKeys_.forEach(unlistenByKey);\n        this.changeEventsKeys_.length = 0;\n    };\n    /**\n     * @private\n     */\n    GeometryCollection.prototype.listenGeometriesChange_ = function () {\n        if (!this.geometries_) {\n            return;\n        }\n        for (var i = 0, ii = this.geometries_.length; i < ii; ++i) {\n            this.changeEventsKeys_.push(listen(this.geometries_[i], EventType.CHANGE, this.changed, this));\n        }\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!GeometryCollection} Clone.\n     * @api\n     */\n    GeometryCollection.prototype.clone = function () {\n        var geometryCollection = new GeometryCollection(null);\n        geometryCollection.setGeometries(this.geometries_);\n        geometryCollection.applyProperties(this);\n        return geometryCollection;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    GeometryCollection.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            minSquaredDistance = geometries[i].closestPointXY(x, y, closestPoint, minSquaredDistance);\n        }\n        return minSquaredDistance;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    GeometryCollection.prototype.containsXY = function (x, y) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].containsXY(x, y)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    GeometryCollection.prototype.computeExtent = function (extent) {\n        createOrUpdateEmpty(extent);\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            extend(extent, geometries[i].getExtent());\n        }\n        return extent;\n    };\n    /**\n     * Return the geometries that make up this geometry collection.\n     * @return {Array<Geometry>} Geometries.\n     * @api\n     */\n    GeometryCollection.prototype.getGeometries = function () {\n        return cloneGeometries(this.geometries_);\n    };\n    /**\n     * @return {Array<Geometry>} Geometries.\n     */\n    GeometryCollection.prototype.getGeometriesArray = function () {\n        return this.geometries_;\n    };\n    /**\n     * @return {Array<Geometry>} Geometries.\n     */\n    GeometryCollection.prototype.getGeometriesArrayRecursive = function () {\n        /** @type {Array<Geometry>} */\n        var geometriesArray = [];\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].getType() === this.getType()) {\n                geometriesArray = geometriesArray.concat(\n                /** @type {GeometryCollection} */ (geometries[i]).getGeometriesArrayRecursive());\n            }\n            else {\n                geometriesArray.push(geometries[i]);\n            }\n        }\n        return geometriesArray;\n    };\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker algorithm.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {GeometryCollection} Simplified GeometryCollection.\n     */\n    GeometryCollection.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n        if (this.simplifiedGeometryRevision !== this.getRevision()) {\n            this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n            this.simplifiedGeometryRevision = this.getRevision();\n        }\n        if (squaredTolerance < 0 ||\n            (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n                squaredTolerance < this.simplifiedGeometryMaxMinSquaredTolerance)) {\n            return this;\n        }\n        var simplifiedGeometries = [];\n        var geometries = this.geometries_;\n        var simplified = false;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            var geometry = geometries[i];\n            var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n            simplifiedGeometries.push(simplifiedGeometry);\n            if (simplifiedGeometry !== geometry) {\n                simplified = true;\n            }\n        }\n        if (simplified) {\n            var simplifiedGeometryCollection = new GeometryCollection(null);\n            simplifiedGeometryCollection.setGeometriesArray(simplifiedGeometries);\n            return simplifiedGeometryCollection;\n        }\n        else {\n            this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n            return this;\n        }\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     * @api\n     */\n    GeometryCollection.prototype.getType = function () {\n        return GeometryType.GEOMETRY_COLLECTION;\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    GeometryCollection.prototype.intersectsExtent = function (extent) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].intersectsExtent(extent)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    GeometryCollection.prototype.isEmpty = function () {\n        return this.geometries_.length === 0;\n    };\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @param {number} angle Rotation angle in radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    GeometryCollection.prototype.rotate = function (angle, anchor) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].rotate(angle, anchor);\n        }\n        this.changed();\n    };\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number} [opt_sy] The scaling factor in the y-direction (defaults to sx).\n     * @param {import(\"../coordinate.js\").Coordinate} [opt_anchor] The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    GeometryCollection.prototype.scale = function (sx, opt_sy, opt_anchor) {\n        var anchor = opt_anchor;\n        if (!anchor) {\n            anchor = getCenter(this.getExtent());\n        }\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].scale(sx, opt_sy, anchor);\n        }\n        this.changed();\n    };\n    /**\n     * Set the geometries that make up this geometry collection.\n     * @param {Array<Geometry>} geometries Geometries.\n     * @api\n     */\n    GeometryCollection.prototype.setGeometries = function (geometries) {\n        this.setGeometriesArray(cloneGeometries(geometries));\n    };\n    /**\n     * @param {Array<Geometry>} geometries Geometries.\n     */\n    GeometryCollection.prototype.setGeometriesArray = function (geometries) {\n        this.unlistenGeometriesChange_();\n        this.geometries_ = geometries;\n        this.listenGeometriesChange_();\n        this.changed();\n    };\n    /**\n     * Apply a transform function to the coordinates of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n     * Called with a flat array of geometry coordinates.\n     * @api\n     */\n    GeometryCollection.prototype.applyTransform = function (transformFn) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].applyTransform(transformFn);\n        }\n        this.changed();\n    };\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    GeometryCollection.prototype.translate = function (deltaX, deltaY) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].translate(deltaX, deltaY);\n        }\n        this.changed();\n    };\n    /**\n     * Clean up.\n     */\n    GeometryCollection.prototype.disposeInternal = function () {\n        this.unlistenGeometriesChange_();\n        _super.prototype.disposeInternal.call(this);\n    };\n    return GeometryCollection;\n}(Geometry));\n/**\n * @param {Array<Geometry>} geometries Geometries.\n * @return {Array<Geometry>} Cloned geometries.\n */\nfunction cloneGeometries(geometries) {\n    var clonedGeometries = [];\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        clonedGeometries.push(geometries[i].clone());\n    }\n    return clonedGeometries;\n}\nexport default GeometryCollection;\n"]},"metadata":{},"sourceType":"module"}