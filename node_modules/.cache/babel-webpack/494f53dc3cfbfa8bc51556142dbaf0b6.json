{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/ImageTile\n */\n\n\nimport Tile from './Tile.js';\nimport TileState from './TileState.js';\nimport { createCanvasContext2D } from './dom.js';\nimport { listenImage } from './Image.js';\n\nvar ImageTile = function (_super) {\n  __extends(ImageTile, _super);\n  /**\n   * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {import(\"./TileState.js\").default} state State.\n   * @param {string} src Image source URI.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"./Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n   * @param {import(\"./Tile.js\").Options} [opt_options] Tile options.\n   */\n\n\n  function ImageTile(tileCoord, state, src, crossOrigin, tileLoadFunction, opt_options) {\n    var _this = _super.call(this, tileCoord, state, opt_options) || this;\n    /**\n     * @private\n     * @type {?string}\n     */\n\n\n    _this.crossOrigin_ = crossOrigin;\n    /**\n     * Image URI\n     *\n     * @private\n     * @type {string}\n     */\n\n    _this.src_ = src;\n    _this.key = src;\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n\n    _this.image_ = new Image();\n\n    if (crossOrigin !== null) {\n      _this.image_.crossOrigin = crossOrigin;\n    }\n    /**\n     * @private\n     * @type {?function():void}\n     */\n\n\n    _this.unlisten_ = null;\n    /**\n     * @private\n     * @type {import(\"./Tile.js\").LoadFunction}\n     */\n\n    _this.tileLoadFunction_ = tileLoadFunction;\n    return _this;\n  }\n  /**\n   * Get the HTML image element for this tile (may be a Canvas, Image, or Video).\n   * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n   * @api\n   */\n\n\n  ImageTile.prototype.getImage = function () {\n    return this.image_;\n  };\n  /**\n   * Sets an HTML image element for this tile (may be a Canvas or preloaded Image).\n   * @param {HTMLCanvasElement|HTMLImageElement} element Element.\n   */\n\n\n  ImageTile.prototype.setImage = function (element) {\n    this.image_ = element;\n    this.state = TileState.LOADED;\n    this.unlistenImage_();\n    this.changed();\n  };\n  /**\n   * Tracks loading or read errors.\n   *\n   * @private\n   */\n\n\n  ImageTile.prototype.handleImageError_ = function () {\n    this.state = TileState.ERROR;\n    this.unlistenImage_();\n    this.image_ = getBlankImage();\n    this.changed();\n  };\n  /**\n   * Tracks successful image load.\n   *\n   * @private\n   */\n\n\n  ImageTile.prototype.handleImageLoad_ = function () {\n    var image = this.image_;\n\n    if (image.naturalWidth && image.naturalHeight) {\n      this.state = TileState.LOADED;\n    } else {\n      this.state = TileState.EMPTY;\n    }\n\n    this.unlistenImage_();\n    this.changed();\n  };\n  /**\n   * Load not yet loaded URI.\n   * @api\n   */\n\n\n  ImageTile.prototype.load = function () {\n    if (this.state == TileState.ERROR) {\n      this.state = TileState.IDLE;\n      this.image_ = new Image();\n\n      if (this.crossOrigin_ !== null) {\n        this.image_.crossOrigin = this.crossOrigin_;\n      }\n    }\n\n    if (this.state == TileState.IDLE) {\n      this.state = TileState.LOADING;\n      this.changed();\n      this.tileLoadFunction_(this, this.src_);\n      this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n    }\n  };\n  /**\n   * Discards event handlers which listen for load completion or errors.\n   *\n   * @private\n   */\n\n\n  ImageTile.prototype.unlistenImage_ = function () {\n    if (this.unlisten_) {\n      this.unlisten_();\n      this.unlisten_ = null;\n    }\n  };\n\n  return ImageTile;\n}(Tile);\n/**\n * Get a 1-pixel blank image.\n * @return {HTMLCanvasElement} Blank image.\n */\n\n\nfunction getBlankImage() {\n  var ctx = createCanvasContext2D(1, 1);\n  ctx.fillStyle = 'rgba(0,0,0,0)';\n  ctx.fillRect(0, 0, 1, 1);\n  return ctx.canvas;\n}\n\nexport default ImageTile;","map":{"version":3,"sources":["C:/Users/admin/Downloads/angular/igo2-lib-master/node_modules/ol/ImageTile.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","Tile","TileState","createCanvasContext2D","listenImage","ImageTile","_super","tileCoord","state","src","crossOrigin","tileLoadFunction","opt_options","_this","crossOrigin_","src_","key","image_","Image","unlisten_","tileLoadFunction_","getImage","setImage","element","LOADED","unlistenImage_","changed","handleImageError_","ERROR","getBlankImage","handleImageLoad_","image","naturalWidth","naturalHeight","EMPTY","load","IDLE","LOADING","bind","ctx","fillStyle","fillRect","canvas"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/ImageTile\n */\nimport Tile from './Tile.js';\nimport TileState from './TileState.js';\nimport { createCanvasContext2D } from './dom.js';\nimport { listenImage } from './Image.js';\nvar ImageTile = /** @class */ (function (_super) {\n    __extends(ImageTile, _super);\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @param {string} src Image source URI.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"./Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @param {import(\"./Tile.js\").Options} [opt_options] Tile options.\n     */\n    function ImageTile(tileCoord, state, src, crossOrigin, tileLoadFunction, opt_options) {\n        var _this = _super.call(this, tileCoord, state, opt_options) || this;\n        /**\n         * @private\n         * @type {?string}\n         */\n        _this.crossOrigin_ = crossOrigin;\n        /**\n         * Image URI\n         *\n         * @private\n         * @type {string}\n         */\n        _this.src_ = src;\n        _this.key = src;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.image_ = new Image();\n        if (crossOrigin !== null) {\n            _this.image_.crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @private\n         * @type {import(\"./Tile.js\").LoadFunction}\n         */\n        _this.tileLoadFunction_ = tileLoadFunction;\n        return _this;\n    }\n    /**\n     * Get the HTML image element for this tile (may be a Canvas, Image, or Video).\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @api\n     */\n    ImageTile.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Sets an HTML image element for this tile (may be a Canvas or preloaded Image).\n     * @param {HTMLCanvasElement|HTMLImageElement} element Element.\n     */\n    ImageTile.prototype.setImage = function (element) {\n        this.image_ = element;\n        this.state = TileState.LOADED;\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Tracks loading or read errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageError_ = function () {\n        this.state = TileState.ERROR;\n        this.unlistenImage_();\n        this.image_ = getBlankImage();\n        this.changed();\n    };\n    /**\n     * Tracks successful image load.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageLoad_ = function () {\n        var image = /** @type {HTMLImageElement} */ (this.image_);\n        if (image.naturalWidth && image.naturalHeight) {\n            this.state = TileState.LOADED;\n        }\n        else {\n            this.state = TileState.EMPTY;\n        }\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Load not yet loaded URI.\n     * @api\n     */\n    ImageTile.prototype.load = function () {\n        if (this.state == TileState.ERROR) {\n            this.state = TileState.IDLE;\n            this.image_ = new Image();\n            if (this.crossOrigin_ !== null) {\n                this.image_.crossOrigin = this.crossOrigin_;\n            }\n        }\n        if (this.state == TileState.IDLE) {\n            this.state = TileState.LOADING;\n            this.changed();\n            this.tileLoadFunction_(this, this.src_);\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return ImageTile;\n}(Tile));\n/**\n * Get a 1-pixel blank image.\n * @return {HTMLCanvasElement} Blank image.\n */\nfunction getBlankImage() {\n    var ctx = createCanvasContext2D(1, 1);\n    ctx.fillStyle = 'rgba(0,0,0,0)';\n    ctx.fillRect(0, 0, 1, 1);\n    return ctx.canvas;\n}\nexport default ImageTile;\n"]},"metadata":{},"sourceType":"module"}