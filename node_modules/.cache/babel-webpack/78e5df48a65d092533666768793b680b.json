{"ast":null,"code":"/**\n * @module ol/format/GeoJSON\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport Feature from '../Feature.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport JSONFeature from './JSONFeature.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport { assert } from '../asserts.js';\nimport { assign, isEmpty } from '../obj.js';\nimport { get as getProjection } from '../proj.js';\nimport { transformGeometryWithOptions } from './Feature.js';\n/**\n * @typedef {import(\"geojson\").GeoJSON} GeoJSONObject\n * @typedef {import(\"geojson\").Feature} GeoJSONFeature\n * @typedef {import(\"geojson\").FeatureCollection} GeoJSONFeatureCollection\n * @typedef {import(\"geojson\").Geometry} GeoJSONGeometry\n * @typedef {import(\"geojson\").Point} GeoJSONPoint\n * @typedef {import(\"geojson\").LineString} GeoJSONLineString\n * @typedef {import(\"geojson\").Polygon} GeoJSONPolygon\n * @typedef {import(\"geojson\").MultiPoint} GeoJSONMultiPoint\n * @typedef {import(\"geojson\").MultiLineString} GeoJSONMultiLineString\n * @typedef {import(\"geojson\").MultiPolygon} GeoJSONMultiPolygon\n * @typedef {import(\"geojson\").GeometryCollection} GeoJSONGeometryCollection\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection='EPSG:4326'] Default data projection.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection for features read or\n * written by the format.  Options passed to read or write methods will take precedence.\n * @property {string} [geometryName] Geometry name to use when creating features.\n * @property {boolean} [extractGeometryName=false] Certain GeoJSON providers include\n * the geometry_name field in the feature GeoJSON. If set to `true` the GeoJSON reader\n * will look for that field to set the geometry name. If both this field is set to `true`\n * and a `geometryName` is provided, the `geometryName` will take precedence.\n */\n\n/**\n * @classdesc\n * Feature format for reading and writing data in the GeoJSON format.\n *\n * @api\n */\n\nvar GeoJSON = function (_super) {\n  __extends(GeoJSON, _super);\n  /**\n   * @param {Options} [opt_options] Options.\n   */\n\n\n  function GeoJSON(opt_options) {\n    var _this = this;\n\n    var options = opt_options ? opt_options : {};\n    _this = _super.call(this) || this;\n    /**\n     * @type {import(\"../proj/Projection.js\").default}\n     */\n\n    _this.dataProjection = getProjection(options.dataProjection ? options.dataProjection : 'EPSG:4326');\n\n    if (options.featureProjection) {\n      _this.defaultFeatureProjection = getProjection(options.featureProjection);\n    }\n    /**\n     * Name of the geometry attribute for features.\n     * @type {string|undefined}\n     * @private\n     */\n\n\n    _this.geometryName_ = options.geometryName;\n    /**\n     * Look for the geometry name in the feature GeoJSON\n     * @type {boolean|undefined}\n     * @private\n     */\n\n    _this.extractGeometryName_ = options.extractGeometryName;\n    _this.supportedMediaTypes = ['application/geo+json', 'application/vnd.geo+json'];\n    return _this;\n  }\n  /**\n   * @param {Object} object Object.\n   * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n   * @protected\n   * @return {import(\"../Feature.js\").default} Feature.\n   */\n\n\n  GeoJSON.prototype.readFeatureFromObject = function (object, opt_options) {\n    /**\n     * @type {GeoJSONFeature}\n     */\n    var geoJSONFeature = null;\n\n    if (object['type'] === 'Feature') {\n      geoJSONFeature = object;\n    } else {\n      geoJSONFeature = {\n        'type': 'Feature',\n        'geometry': object,\n        'properties': null\n      };\n    }\n\n    var geometry = readGeometry(geoJSONFeature['geometry'], opt_options);\n    var feature = new Feature();\n\n    if (this.geometryName_) {\n      feature.setGeometryName(this.geometryName_);\n    } else if (this.extractGeometryName_ && 'geometry_name' in geoJSONFeature !== undefined) {\n      feature.setGeometryName(geoJSONFeature['geometry_name']);\n    }\n\n    feature.setGeometry(geometry);\n\n    if ('id' in geoJSONFeature) {\n      feature.setId(geoJSONFeature['id']);\n    }\n\n    if (geoJSONFeature['properties']) {\n      feature.setProperties(geoJSONFeature['properties'], true);\n    }\n\n    return feature;\n  };\n  /**\n   * @param {Object} object Object.\n   * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n   * @protected\n   * @return {Array<Feature>} Features.\n   */\n\n\n  GeoJSON.prototype.readFeaturesFromObject = function (object, opt_options) {\n    var geoJSONObject = object;\n    /** @type {Array<import(\"../Feature.js\").default>} */\n\n    var features = null;\n\n    if (geoJSONObject['type'] === 'FeatureCollection') {\n      var geoJSONFeatureCollection = object;\n      features = [];\n      var geoJSONFeatures = geoJSONFeatureCollection['features'];\n\n      for (var i = 0, ii = geoJSONFeatures.length; i < ii; ++i) {\n        features.push(this.readFeatureFromObject(geoJSONFeatures[i], opt_options));\n      }\n    } else {\n      features = [this.readFeatureFromObject(object, opt_options)];\n    }\n\n    return features;\n  };\n  /**\n   * @param {GeoJSONGeometry} object Object.\n   * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n   * @protected\n   * @return {import(\"../geom/Geometry.js\").default} Geometry.\n   */\n\n\n  GeoJSON.prototype.readGeometryFromObject = function (object, opt_options) {\n    return readGeometry(object, opt_options);\n  };\n  /**\n   * @param {Object} object Object.\n   * @protected\n   * @return {import(\"../proj/Projection.js\").default} Projection.\n   */\n\n\n  GeoJSON.prototype.readProjectionFromObject = function (object) {\n    var crs = object['crs'];\n    var projection;\n\n    if (crs) {\n      if (crs['type'] == 'name') {\n        projection = getProjection(crs['properties']['name']);\n      } else if (crs['type'] === 'EPSG') {\n        projection = getProjection('EPSG:' + crs['properties']['code']);\n      } else {\n        assert(false, 36); // Unknown SRS type\n      }\n    } else {\n      projection = this.dataProjection;\n    }\n\n    return projection;\n  };\n  /**\n   * Encode a feature as a GeoJSON Feature object.\n   *\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n   * @return {GeoJSONFeature} Object.\n   * @api\n   */\n\n\n  GeoJSON.prototype.writeFeatureObject = function (feature, opt_options) {\n    opt_options = this.adaptOptions(opt_options);\n    /** @type {GeoJSONFeature} */\n\n    var object = {\n      'type': 'Feature',\n      geometry: null,\n      properties: null\n    };\n    var id = feature.getId();\n\n    if (id !== undefined) {\n      object.id = id;\n    }\n\n    if (!feature.hasProperties()) {\n      return object;\n    }\n\n    var properties = feature.getProperties();\n    var geometry = feature.getGeometry();\n\n    if (geometry) {\n      object.geometry = writeGeometry(geometry, opt_options);\n      delete properties[feature.getGeometryName()];\n    }\n\n    if (!isEmpty(properties)) {\n      object.properties = properties;\n    }\n\n    return object;\n  };\n  /**\n   * Encode an array of features as a GeoJSON object.\n   *\n   * @param {Array<import(\"../Feature.js\").default>} features Features.\n   * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n   * @return {GeoJSONFeatureCollection} GeoJSON Object.\n   * @api\n   */\n\n\n  GeoJSON.prototype.writeFeaturesObject = function (features, opt_options) {\n    opt_options = this.adaptOptions(opt_options);\n    var objects = [];\n\n    for (var i = 0, ii = features.length; i < ii; ++i) {\n      objects.push(this.writeFeatureObject(features[i], opt_options));\n    }\n\n    return {\n      type: 'FeatureCollection',\n      features: objects\n    };\n  };\n  /**\n   * Encode a geometry as a GeoJSON object.\n   *\n   * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n   * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n   * @return {GeoJSONGeometry|GeoJSONGeometryCollection} Object.\n   * @api\n   */\n\n\n  GeoJSON.prototype.writeGeometryObject = function (geometry, opt_options) {\n    return writeGeometry(geometry, this.adaptOptions(opt_options));\n  };\n\n  return GeoJSON;\n}(JSONFeature);\n/**\n * @param {GeoJSONGeometry|GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {import(\"../geom/Geometry.js\").default} Geometry.\n */\n\n\nfunction readGeometry(object, opt_options) {\n  if (!object) {\n    return null;\n  }\n  /**\n   * @type {import(\"../geom/Geometry.js\").default}\n   */\n\n\n  var geometry;\n\n  switch (object['type']) {\n    case GeometryType.POINT:\n      {\n        geometry = readPointGeometry(object);\n        break;\n      }\n\n    case GeometryType.LINE_STRING:\n      {\n        geometry = readLineStringGeometry(object);\n        break;\n      }\n\n    case GeometryType.POLYGON:\n      {\n        geometry = readPolygonGeometry(object);\n        break;\n      }\n\n    case GeometryType.MULTI_POINT:\n      {\n        geometry = readMultiPointGeometry(object);\n        break;\n      }\n\n    case GeometryType.MULTI_LINE_STRING:\n      {\n        geometry = readMultiLineStringGeometry(object);\n        break;\n      }\n\n    case GeometryType.MULTI_POLYGON:\n      {\n        geometry = readMultiPolygonGeometry(object);\n        break;\n      }\n\n    case GeometryType.GEOMETRY_COLLECTION:\n      {\n        geometry = readGeometryCollectionGeometry(object);\n        break;\n      }\n\n    default:\n      {\n        throw new Error('Unsupported GeoJSON type: ' + object.type);\n      }\n  }\n\n  return transformGeometryWithOptions(geometry, false, opt_options);\n}\n/**\n * @param {GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {GeometryCollection} Geometry collection.\n */\n\n\nfunction readGeometryCollectionGeometry(object, opt_options) {\n  var geometries = object['geometries'].map(\n  /**\n   * @param {GeoJSONGeometry} geometry Geometry.\n   * @return {import(\"../geom/Geometry.js\").default} geometry Geometry.\n   */\n  function (geometry) {\n    return readGeometry(geometry, opt_options);\n  });\n  return new GeometryCollection(geometries);\n}\n/**\n * @param {GeoJSONPoint} object Object.\n * @return {Point} Point.\n */\n\n\nfunction readPointGeometry(object) {\n  return new Point(object['coordinates']);\n}\n/**\n * @param {GeoJSONLineString} object Object.\n * @return {LineString} LineString.\n */\n\n\nfunction readLineStringGeometry(object) {\n  return new LineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiLineString} object Object.\n * @return {MultiLineString} MultiLineString.\n */\n\n\nfunction readMultiLineStringGeometry(object) {\n  return new MultiLineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPoint} object Object.\n * @return {MultiPoint} MultiPoint.\n */\n\n\nfunction readMultiPointGeometry(object) {\n  return new MultiPoint(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPolygon} object Object.\n * @return {MultiPolygon} MultiPolygon.\n */\n\n\nfunction readMultiPolygonGeometry(object) {\n  return new MultiPolygon(object['coordinates']);\n}\n/**\n * @param {GeoJSONPolygon} object Object.\n * @return {Polygon} Polygon.\n */\n\n\nfunction readPolygonGeometry(object) {\n  return new Polygon(object['coordinates']);\n}\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\n\n\nfunction writeGeometry(geometry, opt_options) {\n  geometry = transformGeometryWithOptions(geometry, true, opt_options);\n  var type = geometry.getType();\n  /** @type {GeoJSONGeometry} */\n\n  var geoJSON;\n\n  switch (type) {\n    case GeometryType.POINT:\n      {\n        geoJSON = writePointGeometry(geometry, opt_options);\n        break;\n      }\n\n    case GeometryType.LINE_STRING:\n      {\n        geoJSON = writeLineStringGeometry(geometry, opt_options);\n        break;\n      }\n\n    case GeometryType.POLYGON:\n      {\n        geoJSON = writePolygonGeometry(geometry, opt_options);\n        break;\n      }\n\n    case GeometryType.MULTI_POINT:\n      {\n        geoJSON = writeMultiPointGeometry(geometry, opt_options);\n        break;\n      }\n\n    case GeometryType.MULTI_LINE_STRING:\n      {\n        geoJSON = writeMultiLineStringGeometry(geometry, opt_options);\n        break;\n      }\n\n    case GeometryType.MULTI_POLYGON:\n      {\n        geoJSON = writeMultiPolygonGeometry(geometry, opt_options);\n        break;\n      }\n\n    case GeometryType.GEOMETRY_COLLECTION:\n      {\n        geoJSON = writeGeometryCollectionGeometry(geometry, opt_options);\n        break;\n      }\n\n    case GeometryType.CIRCLE:\n      {\n        geoJSON = {\n          type: 'GeometryCollection',\n          geometries: []\n        };\n        break;\n      }\n\n    default:\n      {\n        throw new Error('Unsupported geometry type: ' + type);\n      }\n  }\n\n  return geoJSON;\n}\n/**\n * @param {GeometryCollection} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometryCollection} GeoJSON geometry collection.\n */\n\n\nfunction writeGeometryCollectionGeometry(geometry, opt_options) {\n  var geometries = geometry.getGeometriesArray().map(function (geometry) {\n    var options = assign({}, opt_options);\n    delete options.featureProjection;\n    return writeGeometry(geometry, options);\n  });\n  return {\n    type: 'GeometryCollection',\n    geometries: geometries\n  };\n}\n/**\n * @param {LineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\n\n\nfunction writeLineStringGeometry(geometry, opt_options) {\n  return {\n    type: 'LineString',\n    coordinates: geometry.getCoordinates()\n  };\n}\n/**\n * @param {MultiLineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\n\n\nfunction writeMultiLineStringGeometry(geometry, opt_options) {\n  return {\n    type: 'MultiLineString',\n    coordinates: geometry.getCoordinates()\n  };\n}\n/**\n * @param {MultiPoint} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\n\n\nfunction writeMultiPointGeometry(geometry, opt_options) {\n  return {\n    type: 'MultiPoint',\n    coordinates: geometry.getCoordinates()\n  };\n}\n/**\n * @param {MultiPolygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\n\n\nfunction writeMultiPolygonGeometry(geometry, opt_options) {\n  var right;\n\n  if (opt_options) {\n    right = opt_options.rightHanded;\n  }\n\n  return {\n    type: 'MultiPolygon',\n    coordinates: geometry.getCoordinates(right)\n  };\n}\n/**\n * @param {Point} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\n\n\nfunction writePointGeometry(geometry, opt_options) {\n  return {\n    type: 'Point',\n    coordinates: geometry.getCoordinates()\n  };\n}\n/**\n * @param {Polygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\n\n\nfunction writePolygonGeometry(geometry, opt_options) {\n  var right;\n\n  if (opt_options) {\n    right = opt_options.rightHanded;\n  }\n\n  return {\n    type: 'Polygon',\n    coordinates: geometry.getCoordinates(right)\n  };\n}\n\nexport default GeoJSON;","map":{"version":3,"sources":["C:/Users/admin/Downloads/igo2-lib-master/igo2-lib-master/node_modules/ol/format/GeoJSON.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","Feature","GeometryCollection","GeometryType","JSONFeature","LineString","MultiLineString","MultiPoint","MultiPolygon","Point","Polygon","assert","assign","isEmpty","get","getProjection","transformGeometryWithOptions","GeoJSON","_super","opt_options","_this","options","dataProjection","featureProjection","defaultFeatureProjection","geometryName_","geometryName","extractGeometryName_","extractGeometryName","supportedMediaTypes","readFeatureFromObject","object","geoJSONFeature","geometry","readGeometry","feature","setGeometryName","undefined","setGeometry","setId","setProperties","readFeaturesFromObject","geoJSONObject","features","geoJSONFeatureCollection","geoJSONFeatures","i","ii","length","push","readGeometryFromObject","readProjectionFromObject","crs","projection","writeFeatureObject","adaptOptions","properties","id","getId","hasProperties","getProperties","getGeometry","writeGeometry","getGeometryName","writeFeaturesObject","objects","type","writeGeometryObject","POINT","readPointGeometry","LINE_STRING","readLineStringGeometry","POLYGON","readPolygonGeometry","MULTI_POINT","readMultiPointGeometry","MULTI_LINE_STRING","readMultiLineStringGeometry","MULTI_POLYGON","readMultiPolygonGeometry","GEOMETRY_COLLECTION","readGeometryCollectionGeometry","Error","geometries","map","getType","geoJSON","writePointGeometry","writeLineStringGeometry","writePolygonGeometry","writeMultiPointGeometry","writeMultiLineStringGeometry","writeMultiPolygonGeometry","writeGeometryCollectionGeometry","CIRCLE","getGeometriesArray","coordinates","getCoordinates","right","rightHanded"],"mappings":"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","sourcesContent":["/**\n * @module ol/format/GeoJSON\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Feature from '../Feature.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport JSONFeature from './JSONFeature.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport { assert } from '../asserts.js';\nimport { assign, isEmpty } from '../obj.js';\nimport { get as getProjection } from '../proj.js';\nimport { transformGeometryWithOptions } from './Feature.js';\n/**\n * @typedef {import(\"geojson\").GeoJSON} GeoJSONObject\n * @typedef {import(\"geojson\").Feature} GeoJSONFeature\n * @typedef {import(\"geojson\").FeatureCollection} GeoJSONFeatureCollection\n * @typedef {import(\"geojson\").Geometry} GeoJSONGeometry\n * @typedef {import(\"geojson\").Point} GeoJSONPoint\n * @typedef {import(\"geojson\").LineString} GeoJSONLineString\n * @typedef {import(\"geojson\").Polygon} GeoJSONPolygon\n * @typedef {import(\"geojson\").MultiPoint} GeoJSONMultiPoint\n * @typedef {import(\"geojson\").MultiLineString} GeoJSONMultiLineString\n * @typedef {import(\"geojson\").MultiPolygon} GeoJSONMultiPolygon\n * @typedef {import(\"geojson\").GeometryCollection} GeoJSONGeometryCollection\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection='EPSG:4326'] Default data projection.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection for features read or\n * written by the format.  Options passed to read or write methods will take precedence.\n * @property {string} [geometryName] Geometry name to use when creating features.\n * @property {boolean} [extractGeometryName=false] Certain GeoJSON providers include\n * the geometry_name field in the feature GeoJSON. If set to `true` the GeoJSON reader\n * will look for that field to set the geometry name. If both this field is set to `true`\n * and a `geometryName` is provided, the `geometryName` will take precedence.\n */\n/**\n * @classdesc\n * Feature format for reading and writing data in the GeoJSON format.\n *\n * @api\n */\nvar GeoJSON = /** @class */ (function (_super) {\n    __extends(GeoJSON, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function GeoJSON(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this) || this;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.dataProjection = getProjection(options.dataProjection ? options.dataProjection : 'EPSG:4326');\n        if (options.featureProjection) {\n            _this.defaultFeatureProjection = getProjection(options.featureProjection);\n        }\n        /**\n         * Name of the geometry attribute for features.\n         * @type {string|undefined}\n         * @private\n         */\n        _this.geometryName_ = options.geometryName;\n        /**\n         * Look for the geometry name in the feature GeoJSON\n         * @type {boolean|undefined}\n         * @private\n         */\n        _this.extractGeometryName_ = options.extractGeometryName;\n        _this.supportedMediaTypes = [\n            'application/geo+json',\n            'application/vnd.geo+json',\n        ];\n        return _this;\n    }\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    GeoJSON.prototype.readFeatureFromObject = function (object, opt_options) {\n        /**\n         * @type {GeoJSONFeature}\n         */\n        var geoJSONFeature = null;\n        if (object['type'] === 'Feature') {\n            geoJSONFeature = /** @type {GeoJSONFeature} */ (object);\n        }\n        else {\n            geoJSONFeature = {\n                'type': 'Feature',\n                'geometry': /** @type {GeoJSONGeometry} */ (object),\n                'properties': null,\n            };\n        }\n        var geometry = readGeometry(geoJSONFeature['geometry'], opt_options);\n        var feature = new Feature();\n        if (this.geometryName_) {\n            feature.setGeometryName(this.geometryName_);\n        }\n        else if (this.extractGeometryName_ &&\n            'geometry_name' in geoJSONFeature !== undefined) {\n            feature.setGeometryName(geoJSONFeature['geometry_name']);\n        }\n        feature.setGeometry(geometry);\n        if ('id' in geoJSONFeature) {\n            feature.setId(geoJSONFeature['id']);\n        }\n        if (geoJSONFeature['properties']) {\n            feature.setProperties(geoJSONFeature['properties'], true);\n        }\n        return feature;\n    };\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {Array<Feature>} Features.\n     */\n    GeoJSON.prototype.readFeaturesFromObject = function (object, opt_options) {\n        var geoJSONObject = /** @type {GeoJSONObject} */ (object);\n        /** @type {Array<import(\"../Feature.js\").default>} */\n        var features = null;\n        if (geoJSONObject['type'] === 'FeatureCollection') {\n            var geoJSONFeatureCollection = /** @type {GeoJSONFeatureCollection} */ (object);\n            features = [];\n            var geoJSONFeatures = geoJSONFeatureCollection['features'];\n            for (var i = 0, ii = geoJSONFeatures.length; i < ii; ++i) {\n                features.push(this.readFeatureFromObject(geoJSONFeatures[i], opt_options));\n            }\n        }\n        else {\n            features = [this.readFeatureFromObject(object, opt_options)];\n        }\n        return features;\n    };\n    /**\n     * @param {GeoJSONGeometry} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    GeoJSON.prototype.readGeometryFromObject = function (object, opt_options) {\n        return readGeometry(object, opt_options);\n    };\n    /**\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    GeoJSON.prototype.readProjectionFromObject = function (object) {\n        var crs = object['crs'];\n        var projection;\n        if (crs) {\n            if (crs['type'] == 'name') {\n                projection = getProjection(crs['properties']['name']);\n            }\n            else if (crs['type'] === 'EPSG') {\n                projection = getProjection('EPSG:' + crs['properties']['code']);\n            }\n            else {\n                assert(false, 36); // Unknown SRS type\n            }\n        }\n        else {\n            projection = this.dataProjection;\n        }\n        return /** @type {import(\"../proj/Projection.js\").default} */ (projection);\n    };\n    /**\n     * Encode a feature as a GeoJSON Feature object.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONFeature} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeatureObject = function (feature, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        /** @type {GeoJSONFeature} */\n        var object = {\n            'type': 'Feature',\n            geometry: null,\n            properties: null,\n        };\n        var id = feature.getId();\n        if (id !== undefined) {\n            object.id = id;\n        }\n        if (!feature.hasProperties()) {\n            return object;\n        }\n        var properties = feature.getProperties();\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            object.geometry = writeGeometry(geometry, opt_options);\n            delete properties[feature.getGeometryName()];\n        }\n        if (!isEmpty(properties)) {\n            object.properties = properties;\n        }\n        return object;\n    };\n    /**\n     * Encode an array of features as a GeoJSON object.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONFeatureCollection} GeoJSON Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeaturesObject = function (features, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        var objects = [];\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            objects.push(this.writeFeatureObject(features[i], opt_options));\n        }\n        return {\n            type: 'FeatureCollection',\n            features: objects,\n        };\n    };\n    /**\n     * Encode a geometry as a GeoJSON object.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONGeometry|GeoJSONGeometryCollection} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeGeometryObject = function (geometry, opt_options) {\n        return writeGeometry(geometry, this.adaptOptions(opt_options));\n    };\n    return GeoJSON;\n}(JSONFeature));\n/**\n * @param {GeoJSONGeometry|GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {import(\"../geom/Geometry.js\").default} Geometry.\n */\nfunction readGeometry(object, opt_options) {\n    if (!object) {\n        return null;\n    }\n    /**\n     * @type {import(\"../geom/Geometry.js\").default}\n     */\n    var geometry;\n    switch (object['type']) {\n        case GeometryType.POINT: {\n            geometry = readPointGeometry(/** @type {GeoJSONPoint} */ (object));\n            break;\n        }\n        case GeometryType.LINE_STRING: {\n            geometry = readLineStringGeometry(\n            /** @type {GeoJSONLineString} */ (object));\n            break;\n        }\n        case GeometryType.POLYGON: {\n            geometry = readPolygonGeometry(/** @type {GeoJSONPolygon} */ (object));\n            break;\n        }\n        case GeometryType.MULTI_POINT: {\n            geometry = readMultiPointGeometry(\n            /** @type {GeoJSONMultiPoint} */ (object));\n            break;\n        }\n        case GeometryType.MULTI_LINE_STRING: {\n            geometry = readMultiLineStringGeometry(\n            /** @type {GeoJSONMultiLineString} */ (object));\n            break;\n        }\n        case GeometryType.MULTI_POLYGON: {\n            geometry = readMultiPolygonGeometry(\n            /** @type {GeoJSONMultiPolygon} */ (object));\n            break;\n        }\n        case GeometryType.GEOMETRY_COLLECTION: {\n            geometry = readGeometryCollectionGeometry(\n            /** @type {GeoJSONGeometryCollection} */ (object));\n            break;\n        }\n        default: {\n            throw new Error('Unsupported GeoJSON type: ' + object.type);\n        }\n    }\n    return transformGeometryWithOptions(geometry, false, opt_options);\n}\n/**\n * @param {GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {GeometryCollection} Geometry collection.\n */\nfunction readGeometryCollectionGeometry(object, opt_options) {\n    var geometries = object['geometries'].map(\n    /**\n     * @param {GeoJSONGeometry} geometry Geometry.\n     * @return {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     */\n    function (geometry) {\n        return readGeometry(geometry, opt_options);\n    });\n    return new GeometryCollection(geometries);\n}\n/**\n * @param {GeoJSONPoint} object Object.\n * @return {Point} Point.\n */\nfunction readPointGeometry(object) {\n    return new Point(object['coordinates']);\n}\n/**\n * @param {GeoJSONLineString} object Object.\n * @return {LineString} LineString.\n */\nfunction readLineStringGeometry(object) {\n    return new LineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiLineString} object Object.\n * @return {MultiLineString} MultiLineString.\n */\nfunction readMultiLineStringGeometry(object) {\n    return new MultiLineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPoint} object Object.\n * @return {MultiPoint} MultiPoint.\n */\nfunction readMultiPointGeometry(object) {\n    return new MultiPoint(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPolygon} object Object.\n * @return {MultiPolygon} MultiPolygon.\n */\nfunction readMultiPolygonGeometry(object) {\n    return new MultiPolygon(object['coordinates']);\n}\n/**\n * @param {GeoJSONPolygon} object Object.\n * @return {Polygon} Polygon.\n */\nfunction readPolygonGeometry(object) {\n    return new Polygon(object['coordinates']);\n}\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeGeometry(geometry, opt_options) {\n    geometry = transformGeometryWithOptions(geometry, true, opt_options);\n    var type = geometry.getType();\n    /** @type {GeoJSONGeometry} */\n    var geoJSON;\n    switch (type) {\n        case GeometryType.POINT: {\n            geoJSON = writePointGeometry(\n            /** @type {Point} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.LINE_STRING: {\n            geoJSON = writeLineStringGeometry(\n            /** @type {LineString} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.POLYGON: {\n            geoJSON = writePolygonGeometry(\n            /** @type {Polygon} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.MULTI_POINT: {\n            geoJSON = writeMultiPointGeometry(\n            /** @type {MultiPoint} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.MULTI_LINE_STRING: {\n            geoJSON = writeMultiLineStringGeometry(\n            /** @type {MultiLineString} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.MULTI_POLYGON: {\n            geoJSON = writeMultiPolygonGeometry(\n            /** @type {MultiPolygon} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.GEOMETRY_COLLECTION: {\n            geoJSON = writeGeometryCollectionGeometry(\n            /** @type {GeometryCollection} */ (geometry), opt_options);\n            break;\n        }\n        case GeometryType.CIRCLE: {\n            geoJSON = {\n                type: 'GeometryCollection',\n                geometries: [],\n            };\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return geoJSON;\n}\n/**\n * @param {GeometryCollection} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometryCollection} GeoJSON geometry collection.\n */\nfunction writeGeometryCollectionGeometry(geometry, opt_options) {\n    var geometries = geometry.getGeometriesArray().map(function (geometry) {\n        var options = assign({}, opt_options);\n        delete options.featureProjection;\n        return writeGeometry(geometry, options);\n    });\n    return {\n        type: 'GeometryCollection',\n        geometries: geometries,\n    };\n}\n/**\n * @param {LineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'LineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiLineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiLineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPoint} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPointGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiPoint',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPolygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'MultiPolygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\n/**\n * @param {Point} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePointGeometry(geometry, opt_options) {\n    return {\n        type: 'Point',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {Polygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'Polygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\nexport default GeoJSON;\n"]},"metadata":{},"sourceType":"module"}