{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport { Media, MediaOrientation, MediaService, LanguageService } from '@igo2/core';\nimport { ActionStore, ActionbarMode } from '@igo2/common';\nimport { Overlay } from '@angular/cdk/overlay';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/cdk/overlay\";\nimport * as i2 from \"@igo2/core\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@igo2/common\";\n\nfunction AppActionComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"igo-actionbar\", 4);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"store\", ctx_r1.store)(\"withIcon\", true)(\"horizontal\", true)(\"mode\", \"context\");\n  }\n}\n\nexport let AppActionComponent = /*#__PURE__*/(() => {\n  class AppActionComponent {\n    constructor(overlay, mediaService, languageService) {\n      this.overlay = overlay;\n      this.mediaService = mediaService;\n      this.languageService = languageService;\n      this.store = new ActionStore([]);\n      this.added$ = new BehaviorSubject(false);\n    }\n\n    get actionbarMode() {\n      const media = this.mediaService.media$.value;\n      const orientation = this.mediaService.orientation$.value;\n\n      if (media === Media.Desktop && orientation === MediaOrientation.Landscape) {\n        return ActionbarMode.Dock;\n      }\n\n      return ActionbarMode.Overlay;\n    }\n\n    ngOnInit() {\n      this.store.load([{\n        id: 'add',\n        title: 'Add',\n        icon: 'plus',\n        tooltip: 'Add Tooltip',\n        handler: () => {\n          alert('Add!');\n          this.added$.next(true);\n        }\n      }, {\n        id: 'edit',\n        title: 'Edit',\n        icon: 'pencil',\n        tooltip: 'Edit Tooltip',\n        args: ['1'],\n        handler: item => {\n          alert(`Edit item ${item}!`);\n        },\n        availability: () => this.added$\n      }, {\n        id: 'delete',\n        title: 'Delete',\n        tooltip: 'Delete Tooltip',\n        icon: 'delete',\n        handler: () => {\n          alert('Delete!');\n          this.added$.next(false);\n        },\n        availability: () => this.added$\n      }]);\n    }\n\n    ngOnDestroy() {\n      this.store.destroy();\n    }\n\n  }\n\n  AppActionComponent.ɵfac = function AppActionComponent_Factory(t) {\n    return new (t || AppActionComponent)(i0.ɵɵdirectiveInject(i1.Overlay), i0.ɵɵdirectiveInject(i2.MediaService), i0.ɵɵdirectiveInject(i2.LanguageService));\n  };\n\n  AppActionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppActionComponent,\n    selectors: [[\"app-action\"]],\n    decls: 19,\n    vars: 6,\n    consts: [[\"href\", \"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/app/common/action\"], [3, \"store\", \"withIcon\", \"withTitle\", \"horizontal\", \"mode\"], [3, \"igoContextMenu\"], [\"actionbarMenu\", \"\"], [3, \"store\", \"withIcon\", \"horizontal\", \"mode\"]],\n    template: function AppActionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\");\n        i0.ɵɵelementStart(1, \"mat-card-subtitle\");\n        i0.ɵɵtext(2, \"Common\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"mat-card-title\");\n        i0.ɵɵtext(4, \"Action\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-card-content\");\n        i0.ɵɵtext(6, \" See the \");\n        i0.ɵɵelementStart(7, \"a\", 0);\n        i0.ɵɵtext(8, \"code of this example\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"igo-actionbar\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"p\");\n        i0.ɵɵelementStart(11, \"mat-card\", 2);\n        i0.ɵɵelementStart(12, \"mat-card-subtitle\");\n        i0.ɵɵtext(13, \"Common\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-card-title\");\n        i0.ɵɵtext(15, \"Action context-menu\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, AppActionComponent_ng_template_17_Template, 1, 4, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(18);\n\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"store\", ctx.store)(\"withIcon\", true)(\"withTitle\", ctx.actionbarMode === \"overlay\")(\"horizontal\", true)(\"mode\", ctx.actionbarMode);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"igoContextMenu\", _r0);\n      }\n    },\n    directives: [i3.MatCard, i3.MatCardSubtitle, i3.MatCardTitle, i3.MatCardContent, i4.ActionbarComponent, i4.ContextMenuDirective],\n    styles: [\"pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%] {\\n  font-family: monospace, monospace;\\n}\\n\\npre[_ngcontent-%COMP%] {\\n  overflow: auto;\\n}\\n\\npre[_ngcontent-%COMP%]    > code[_ngcontent-%COMP%] {\\n  display: block;\\n  padding: 1rem;\\n  word-wrap: normal;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRSxpQ0FBQTtBQUNGOztBQUNBO0VBQ0UsY0FBQTtBQUVGOztBQUFBO0VBQ0UsY0FBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtBQUdGIiwiZmlsZSI6ImFjdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInByZSxcbmNvZGUge1xuICBmb250LWZhbWlseTogbW9ub3NwYWNlLCBtb25vc3BhY2U7XG59XG5wcmUge1xuICBvdmVyZmxvdzogYXV0bztcbn1cbnByZSA+IGNvZGUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcGFkZGluZzogMXJlbTtcbiAgd29yZC13cmFwOiBub3JtYWw7XG59XG4iXX0= */\"]\n  });\n  return AppActionComponent;\n})();","map":{"version":3,"sources":["C:\\Users\\admin\\Downloads\\igo2-lib-master\\igo2-lib-master\\demo\\src\\app\\common\\action\\action.component.ts","C:\\Users\\admin\\Downloads\\igo2-lib-master\\igo2-lib-master\\demo\\src\\app\\common\\action\\action.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport {\n  Media,\n  MediaOrientation,\n  MediaService,\n  LanguageService\n} from '@igo2/core';\nimport { ActionStore, ActionbarMode } from '@igo2/common';\nimport { Overlay } from '@angular/cdk/overlay';\n\n@Component({\n  selector: 'app-action',\n  templateUrl: './action.component.html',\n  styleUrls: ['./action.component.scss']\n})\nexport class AppActionComponent implements OnInit, OnDestroy {\n  public store = new ActionStore([]);\n\n  private added$ = new BehaviorSubject(false);\n\n  get actionbarMode(): ActionbarMode {\n    const media = this.mediaService.media$.value;\n    const orientation = this.mediaService.orientation$.value;\n    if (media === Media.Desktop && orientation === MediaOrientation.Landscape) {\n      return ActionbarMode.Dock;\n    }\n    return ActionbarMode.Overlay;\n  }\n\n  constructor(\n    public overlay: Overlay,\n    private mediaService: MediaService,\n    private languageService: LanguageService\n  ) {}\n\n  ngOnInit() {\n    this.store.load([\n      {\n        id: 'add',\n        title: 'Add',\n        icon: 'plus',\n        tooltip: 'Add Tooltip',\n        handler: () => {\n          alert('Add!');\n          this.added$.next(true);\n        }\n      },\n      {\n        id: 'edit',\n        title: 'Edit',\n        icon: 'pencil',\n        tooltip: 'Edit Tooltip',\n        args: ['1'],\n        handler: (item: string) => {\n          alert(`Edit item ${item}!`);\n        },\n        availability: () => this.added$\n      },\n      {\n        id: 'delete',\n        title: 'Delete',\n        tooltip: 'Delete Tooltip',\n        icon: 'delete',\n        handler: () => {\n          alert('Delete!');\n          this.added$.next(false);\n        },\n        availability: () => this.added$\n      }\n    ]);\n  }\n\n  ngOnDestroy() {\n    this.store.destroy();\n  }\n}\n","<mat-card>\n  <mat-card-subtitle>Common</mat-card-subtitle>\n  <mat-card-title>Action</mat-card-title>\n  <mat-card-content>\n    See the <a href=\"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/app/common/action\">code of this example</a>\n  </mat-card-content>\n\n  <igo-actionbar\n    [store]=\"store\"\n    [withIcon]=\"true\"\n    [withTitle]=\"actionbarMode === 'overlay'\"\n    [horizontal]=\"true\"\n    [mode]=\"actionbarMode\">\n  </igo-actionbar>\n\n</mat-card>\n<p></p>\n\n<mat-card [igoContextMenu]= actionbarMenu>\n  <mat-card-subtitle>Common</mat-card-subtitle>\n  <mat-card-title>Action context-menu</mat-card-title>\n  <div></div>\n</mat-card>\n\n\n\n<ng-template #actionbarMenu>\n  <igo-actionbar\n    [store]=\"store\"\n    [withIcon]=\"true\"\n    [horizontal]=\"true\"\n    [mode]=\"'context'\">\n  </igo-actionbar>\n</ng-template>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}