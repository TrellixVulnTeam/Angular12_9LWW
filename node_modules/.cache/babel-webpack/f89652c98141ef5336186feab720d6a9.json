{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/interaction/MouseWheelZoom\n */\n\n\nimport EventType from '../events/EventType.js';\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport { DEVICE_PIXEL_RATIO, FIREFOX } from '../has.js';\nimport { all, always, focusWithTabindex } from '../events/condition.js';\nimport { clamp } from '../math.js';\n/**\n * @enum {string}\n */\n\nexport var Mode = {\n  TRACKPAD: 'trackpad',\n  WHEEL: 'wheel'\n};\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.always}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {number} [maxDelta=1] Maximum mouse wheel delta.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n * @property {boolean} [constrainResolution=false] If true, the mouse wheel zoom\n * event will always animate to the closest zoom level after an interaction;\n * false means intermediary zoom levels are allowed.\n */\n\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\n\nvar MouseWheelZoom = function (_super) {\n  __extends(MouseWheelZoom, _super);\n  /**\n   * @param {Options} [opt_options] Options.\n   */\n\n\n  function MouseWheelZoom(opt_options) {\n    var _this = this;\n\n    var options = opt_options ? opt_options : {};\n    _this = _super.call(this, options) || this;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    _this.totalDelta_ = 0;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    _this.lastDelta_ = 0;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    _this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    _this.duration_ = options.duration !== undefined ? options.duration : 250;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    _this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    _this.useAnchor_ = options.useAnchor !== undefined ? options.useAnchor : true;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    _this.constrainResolution_ = options.constrainResolution !== undefined ? options.constrainResolution : false;\n    var condition = options.condition ? options.condition : always;\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n\n    _this.condition_ = options.onFocusOnly ? all(focusWithTabindex, condition) : condition;\n    /**\n     * @private\n     * @type {?import(\"../coordinate.js\").Coordinate}\n     */\n\n    _this.lastAnchor_ = null;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    _this.startTime_ = undefined;\n    /**\n     * @private\n     * @type {?}\n     */\n\n    _this.timeoutId_;\n    /**\n     * @private\n     * @type {Mode|undefined}\n     */\n\n    _this.mode_ = undefined;\n    /**\n     * Trackpad events separated by this delay will be considered separate\n     * interactions.\n     * @type {number}\n     */\n\n    _this.trackpadEventGap_ = 400;\n    /**\n     * @type {?}\n     */\n\n    _this.trackpadTimeoutId_;\n    /**\n     * The number of delta values per zoom level\n     * @private\n     * @type {number}\n     */\n\n    _this.deltaPerZoom_ = 300;\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  MouseWheelZoom.prototype.endInteraction_ = function () {\n    this.trackpadTimeoutId_ = undefined;\n    var view = this.getMap().getView();\n    view.endInteraction(undefined, this.lastDelta_ ? this.lastDelta_ > 0 ? 1 : -1 : 0, this.lastAnchor_);\n  };\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n   * zooms the map.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   */\n\n\n  MouseWheelZoom.prototype.handleEvent = function (mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n\n    var type = mapBrowserEvent.type;\n\n    if (type !== EventType.WHEEL) {\n      return true;\n    }\n\n    var map = mapBrowserEvent.map;\n    var wheelEvent = mapBrowserEvent.originalEvent;\n    wheelEvent.preventDefault();\n\n    if (this.useAnchor_) {\n      this.lastAnchor_ = mapBrowserEvent.coordinate;\n    } // Delta normalisation inspired by\n    // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n\n\n    var delta;\n\n    if (mapBrowserEvent.type == EventType.WHEEL) {\n      delta = wheelEvent.deltaY;\n\n      if (FIREFOX && wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n        delta /= DEVICE_PIXEL_RATIO;\n      }\n\n      if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n        delta *= 40;\n      }\n    }\n\n    if (delta === 0) {\n      return false;\n    } else {\n      this.lastDelta_ = delta;\n    }\n\n    var now = Date.now();\n\n    if (this.startTime_ === undefined) {\n      this.startTime_ = now;\n    }\n\n    if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n      this.mode_ = Math.abs(delta) < 4 ? Mode.TRACKPAD : Mode.WHEEL;\n    }\n\n    var view = map.getView();\n\n    if (this.mode_ === Mode.TRACKPAD && !(view.getConstrainResolution() || this.constrainResolution_)) {\n      if (this.trackpadTimeoutId_) {\n        clearTimeout(this.trackpadTimeoutId_);\n      } else {\n        if (view.getAnimating()) {\n          view.cancelAnimations();\n        }\n\n        view.beginInteraction();\n      }\n\n      this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_);\n      view.adjustZoom(-delta / this.deltaPerZoom_, this.lastAnchor_);\n      this.startTime_ = now;\n      return false;\n    }\n\n    this.totalDelta_ += delta;\n    var timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n    clearTimeout(this.timeoutId_);\n    this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n    return false;\n  };\n  /**\n   * @private\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   */\n\n\n  MouseWheelZoom.prototype.handleWheelZoom_ = function (map) {\n    var view = map.getView();\n\n    if (view.getAnimating()) {\n      view.cancelAnimations();\n    }\n\n    var delta = -clamp(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_) / this.deltaPerZoom_;\n\n    if (view.getConstrainResolution() || this.constrainResolution_) {\n      // view has a zoom constraint, zoom by 1\n      delta = delta ? delta > 0 ? 1 : -1 : 0;\n    }\n\n    zoomByDelta(view, delta, this.lastAnchor_, this.duration_);\n    this.mode_ = undefined;\n    this.totalDelta_ = 0;\n    this.lastAnchor_ = null;\n    this.startTime_ = undefined;\n    this.timeoutId_ = undefined;\n  };\n  /**\n   * Enable or disable using the mouse's location as an anchor when zooming\n   * @param {boolean} useAnchor true to zoom to the mouse's location, false\n   * to zoom to the center of the map\n   * @api\n   */\n\n\n  MouseWheelZoom.prototype.setMouseAnchor = function (useAnchor) {\n    this.useAnchor_ = useAnchor;\n\n    if (!useAnchor) {\n      this.lastAnchor_ = null;\n    }\n  };\n\n  return MouseWheelZoom;\n}(Interaction);\n\nexport default MouseWheelZoom;","map":{"version":3,"sources":["C:/Users/admin/Downloads/angular/igo2-lib-master/node_modules/ol/interaction/MouseWheelZoom.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","EventType","Interaction","zoomByDelta","DEVICE_PIXEL_RATIO","FIREFOX","all","always","focusWithTabindex","clamp","Mode","TRACKPAD","WHEEL","MouseWheelZoom","_super","opt_options","_this","options","totalDelta_","lastDelta_","maxDelta_","maxDelta","undefined","duration_","duration","timeout_","timeout","useAnchor_","useAnchor","constrainResolution_","constrainResolution","condition","condition_","onFocusOnly","lastAnchor_","startTime_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","deltaPerZoom_","endInteraction_","view","getMap","getView","endInteraction","handleEvent","mapBrowserEvent","type","map","wheelEvent","originalEvent","preventDefault","coordinate","delta","deltaY","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","now","Date","Math","abs","getConstrainResolution","clearTimeout","getAnimating","cancelAnimations","beginInteraction","setTimeout","bind","adjustZoom","timeLeft","max","handleWheelZoom_","setMouseAnchor"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnB,QAAI,OAAOA,CAAP,KAAa,UAAb,IAA2BA,CAAC,KAAK,IAArC,EACI,MAAM,IAAIS,SAAJ,CAAc,yBAAyBC,MAAM,CAACV,CAAD,CAA/B,GAAqC,+BAAnD,CAAN;AACJF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASW,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBb,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACY,MAAP,CAAcb,CAAd,CAAb,IAAiCW,EAAE,CAACL,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIK,EAAJ,EAA7D,CAAd;AACH,GAND;AAOH,CAd2C,EAA5C;AAeA;AACA;AACA;;;AACA,OAAOG,SAAP,MAAsB,wBAAtB;AACA,OAAOC,WAAP,IAAsBC,WAAtB,QAAyC,kBAAzC;AACA,SAASC,kBAAT,EAA6BC,OAA7B,QAA4C,WAA5C;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,iBAAtB,QAA+C,wBAA/C;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA;AACA;AACA;;AACA,OAAO,IAAIC,IAAI,GAAG;AACdC,EAAAA,QAAQ,EAAE,UADI;AAEdC,EAAAA,KAAK,EAAE;AAFO,CAAX;AAIP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,cAAc,GAAkB,UAAUC,MAAV,EAAkB;AAClD9B,EAAAA,SAAS,CAAC6B,cAAD,EAAiBC,MAAjB,CAAT;AACA;AACJ;AACA;;;AACI,WAASD,cAAT,CAAwBE,WAAxB,EAAqC;AACjC,QAAIC,KAAK,GAAG,IAAZ;;AACA,QAAIC,OAAO,GAAGF,WAAW,GAAGA,WAAH,GAAiB,EAA1C;AACAC,IAAAA,KAAK,GAAGF,MAAM,CAACnB,IAAP,CAAY,IAAZ,EACsDsB,OADtD,KACmE,IAD3E;AAEA;AACR;AACA;AACA;;AACQD,IAAAA,KAAK,CAACE,WAAN,GAAoB,CAApB;AACA;AACR;AACA;AACA;;AACQF,IAAAA,KAAK,CAACG,UAAN,GAAmB,CAAnB;AACA;AACR;AACA;AACA;;AACQH,IAAAA,KAAK,CAACI,SAAN,GAAkBH,OAAO,CAACI,QAAR,KAAqBC,SAArB,GAAiCL,OAAO,CAACI,QAAzC,GAAoD,CAAtE;AACA;AACR;AACA;AACA;;AACQL,IAAAA,KAAK,CAACO,SAAN,GAAkBN,OAAO,CAACO,QAAR,KAAqBF,SAArB,GAAiCL,OAAO,CAACO,QAAzC,GAAoD,GAAtE;AACA;AACR;AACA;AACA;;AACQR,IAAAA,KAAK,CAACS,QAAN,GAAiBR,OAAO,CAACS,OAAR,KAAoBJ,SAApB,GAAgCL,OAAO,CAACS,OAAxC,GAAkD,EAAnE;AACA;AACR;AACA;AACA;;AACQV,IAAAA,KAAK,CAACW,UAAN,GACIV,OAAO,CAACW,SAAR,KAAsBN,SAAtB,GAAkCL,OAAO,CAACW,SAA1C,GAAsD,IAD1D;AAEA;AACR;AACA;AACA;;AACQZ,IAAAA,KAAK,CAACa,oBAAN,GACIZ,OAAO,CAACa,mBAAR,KAAgCR,SAAhC,GACML,OAAO,CAACa,mBADd,GAEM,KAHV;AAIA,QAAIC,SAAS,GAAGd,OAAO,CAACc,SAAR,GAAoBd,OAAO,CAACc,SAA5B,GAAwCxB,MAAxD;AACA;AACR;AACA;AACA;;AACQS,IAAAA,KAAK,CAACgB,UAAN,GAAmBf,OAAO,CAACgB,WAAR,GACb3B,GAAG,CAACE,iBAAD,EAAoBuB,SAApB,CADU,GAEbA,SAFN;AAGA;AACR;AACA;AACA;;AACQf,IAAAA,KAAK,CAACkB,WAAN,GAAoB,IAApB;AACA;AACR;AACA;AACA;;AACQlB,IAAAA,KAAK,CAACmB,UAAN,GAAmBb,SAAnB;AACA;AACR;AACA;AACA;;AACQN,IAAAA,KAAK,CAACoB,UAAN;AACA;AACR;AACA;AACA;;AACQpB,IAAAA,KAAK,CAACqB,KAAN,GAAcf,SAAd;AACA;AACR;AACA;AACA;AACA;;AACQN,IAAAA,KAAK,CAACsB,iBAAN,GAA0B,GAA1B;AACA;AACR;AACA;;AACQtB,IAAAA,KAAK,CAACuB,kBAAN;AACA;AACR;AACA;AACA;AACA;;AACQvB,IAAAA,KAAK,CAACwB,aAAN,GAAsB,GAAtB;AACA,WAAOxB,KAAP;AACH;AACD;AACJ;AACA;;;AACIH,EAAAA,cAAc,CAACpB,SAAf,CAAyBgD,eAAzB,GAA2C,YAAY;AACnD,SAAKF,kBAAL,GAA0BjB,SAA1B;AACA,QAAIoB,IAAI,GAAG,KAAKC,MAAL,GAAcC,OAAd,EAAX;AACAF,IAAAA,IAAI,CAACG,cAAL,CAAoBvB,SAApB,EAA+B,KAAKH,UAAL,GAAmB,KAAKA,UAAL,GAAkB,CAAlB,GAAsB,CAAtB,GAA0B,CAAC,CAA9C,GAAmD,CAAlF,EAAqF,KAAKe,WAA1F;AACH,GAJD;AAKA;AACJ;AACA;AACA;AACA;AACA;;;AACIrB,EAAAA,cAAc,CAACpB,SAAf,CAAyBqD,WAAzB,GAAuC,UAAUC,eAAV,EAA2B;AAC9D,QAAI,CAAC,KAAKf,UAAL,CAAgBe,eAAhB,CAAL,EAAuC;AACnC,aAAO,IAAP;AACH;;AACD,QAAIC,IAAI,GAAGD,eAAe,CAACC,IAA3B;;AACA,QAAIA,IAAI,KAAK/C,SAAS,CAACW,KAAvB,EAA8B;AAC1B,aAAO,IAAP;AACH;;AACD,QAAIqC,GAAG,GAAGF,eAAe,CAACE,GAA1B;AACA,QAAIC,UAAU,GAA8BH,eAAe,CAACI,aAA5D;AACAD,IAAAA,UAAU,CAACE,cAAX;;AACA,QAAI,KAAKzB,UAAT,EAAqB;AACjB,WAAKO,WAAL,GAAmBa,eAAe,CAACM,UAAnC;AACH,KAb6D,CAc9D;AACA;;;AACA,QAAIC,KAAJ;;AACA,QAAIP,eAAe,CAACC,IAAhB,IAAwB/C,SAAS,CAACW,KAAtC,EAA6C;AACzC0C,MAAAA,KAAK,GAAGJ,UAAU,CAACK,MAAnB;;AACA,UAAIlD,OAAO,IAAI6C,UAAU,CAACM,SAAX,KAAyBC,UAAU,CAACC,eAAnD,EAAoE;AAChEJ,QAAAA,KAAK,IAAIlD,kBAAT;AACH;;AACD,UAAI8C,UAAU,CAACM,SAAX,KAAyBC,UAAU,CAACE,cAAxC,EAAwD;AACpDL,QAAAA,KAAK,IAAI,EAAT;AACH;AACJ;;AACD,QAAIA,KAAK,KAAK,CAAd,EAAiB;AACb,aAAO,KAAP;AACH,KAFD,MAGK;AACD,WAAKnC,UAAL,GAAkBmC,KAAlB;AACH;;AACD,QAAIM,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAV;;AACA,QAAI,KAAKzB,UAAL,KAAoBb,SAAxB,EAAmC;AAC/B,WAAKa,UAAL,GAAkByB,GAAlB;AACH;;AACD,QAAI,CAAC,KAAKvB,KAAN,IAAeuB,GAAG,GAAG,KAAKzB,UAAX,GAAwB,KAAKG,iBAAhD,EAAmE;AAC/D,WAAKD,KAAL,GAAayB,IAAI,CAACC,GAAL,CAAST,KAAT,IAAkB,CAAlB,GAAsB5C,IAAI,CAACC,QAA3B,GAAsCD,IAAI,CAACE,KAAxD;AACH;;AACD,QAAI8B,IAAI,GAAGO,GAAG,CAACL,OAAJ,EAAX;;AACA,QAAI,KAAKP,KAAL,KAAe3B,IAAI,CAACC,QAApB,IACA,EAAE+B,IAAI,CAACsB,sBAAL,MAAiC,KAAKnC,oBAAxC,CADJ,EACmE;AAC/D,UAAI,KAAKU,kBAAT,EAA6B;AACzB0B,QAAAA,YAAY,CAAC,KAAK1B,kBAAN,CAAZ;AACH,OAFD,MAGK;AACD,YAAIG,IAAI,CAACwB,YAAL,EAAJ,EAAyB;AACrBxB,UAAAA,IAAI,CAACyB,gBAAL;AACH;;AACDzB,QAAAA,IAAI,CAAC0B,gBAAL;AACH;;AACD,WAAK7B,kBAAL,GAA0B8B,UAAU,CAAC,KAAK5B,eAAL,CAAqB6B,IAArB,CAA0B,IAA1B,CAAD,EAAkC,KAAK7C,QAAvC,CAApC;AACAiB,MAAAA,IAAI,CAAC6B,UAAL,CAAgB,CAACjB,KAAD,GAAS,KAAKd,aAA9B,EAA6C,KAAKN,WAAlD;AACA,WAAKC,UAAL,GAAkByB,GAAlB;AACA,aAAO,KAAP;AACH;;AACD,SAAK1C,WAAL,IAAoBoC,KAApB;AACA,QAAIkB,QAAQ,GAAGV,IAAI,CAACW,GAAL,CAAS,KAAKhD,QAAL,IAAiBmC,GAAG,GAAG,KAAKzB,UAA5B,CAAT,EAAkD,CAAlD,CAAf;AACA8B,IAAAA,YAAY,CAAC,KAAK7B,UAAN,CAAZ;AACA,SAAKA,UAAL,GAAkBiC,UAAU,CAAC,KAAKK,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,EAAiCrB,GAAjC,CAAD,EAAwCuB,QAAxC,CAA5B;AACA,WAAO,KAAP;AACH,GA7DD;AA8DA;AACJ;AACA;AACA;;;AACI3D,EAAAA,cAAc,CAACpB,SAAf,CAAyBiF,gBAAzB,GAA4C,UAAUzB,GAAV,EAAe;AACvD,QAAIP,IAAI,GAAGO,GAAG,CAACL,OAAJ,EAAX;;AACA,QAAIF,IAAI,CAACwB,YAAL,EAAJ,EAAyB;AACrBxB,MAAAA,IAAI,CAACyB,gBAAL;AACH;;AACD,QAAIb,KAAK,GAAG,CAAC7C,KAAK,CAAC,KAAKS,WAAN,EAAmB,CAAC,KAAKE,SAAN,GAAkB,KAAKoB,aAA1C,EAAyD,KAAKpB,SAAL,GAAiB,KAAKoB,aAA/E,CAAN,GAAsG,KAAKA,aAAvH;;AACA,QAAIE,IAAI,CAACsB,sBAAL,MAAiC,KAAKnC,oBAA1C,EAAgE;AAC5D;AACAyB,MAAAA,KAAK,GAAGA,KAAK,GAAIA,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgB,CAAC,CAArB,GAA0B,CAAvC;AACH;;AACDnD,IAAAA,WAAW,CAACuC,IAAD,EAAOY,KAAP,EAAc,KAAKpB,WAAnB,EAAgC,KAAKX,SAArC,CAAX;AACA,SAAKc,KAAL,GAAaf,SAAb;AACA,SAAKJ,WAAL,GAAmB,CAAnB;AACA,SAAKgB,WAAL,GAAmB,IAAnB;AACA,SAAKC,UAAL,GAAkBb,SAAlB;AACA,SAAKc,UAAL,GAAkBd,SAAlB;AACH,GAhBD;AAiBA;AACJ;AACA;AACA;AACA;AACA;;;AACIT,EAAAA,cAAc,CAACpB,SAAf,CAAyBkF,cAAzB,GAA0C,UAAU/C,SAAV,EAAqB;AAC3D,SAAKD,UAAL,GAAkBC,SAAlB;;AACA,QAAI,CAACA,SAAL,EAAgB;AACZ,WAAKM,WAAL,GAAmB,IAAnB;AACH;AACJ,GALD;;AAMA,SAAOrB,cAAP;AACH,CA7MmC,CA6MlCX,WA7MkC,CAApC;;AA8MA,eAAeW,cAAf","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/MouseWheelZoom\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport { DEVICE_PIXEL_RATIO, FIREFOX } from '../has.js';\nimport { all, always, focusWithTabindex } from '../events/condition.js';\nimport { clamp } from '../math.js';\n/**\n * @enum {string}\n */\nexport var Mode = {\n    TRACKPAD: 'trackpad',\n    WHEEL: 'wheel',\n};\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.always}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {number} [maxDelta=1] Maximum mouse wheel delta.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n * @property {boolean} [constrainResolution=false] If true, the mouse wheel zoom\n * event will always animate to the closest zoom level after an interaction;\n * false means intermediary zoom levels are allowed.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\nvar MouseWheelZoom = /** @class */ (function (_super) {\n    __extends(MouseWheelZoom, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function MouseWheelZoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, \n        /** @type {import(\"./Interaction.js\").InteractionOptions} */ (options)) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.totalDelta_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.lastDelta_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.useAnchor_ =\n            options.useAnchor !== undefined ? options.useAnchor : true;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.constrainResolution_ =\n            options.constrainResolution !== undefined\n                ? options.constrainResolution\n                : false;\n        var condition = options.condition ? options.condition : always;\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.onFocusOnly\n            ? all(focusWithTabindex, condition)\n            : condition;\n        /**\n         * @private\n         * @type {?import(\"../coordinate.js\").Coordinate}\n         */\n        _this.lastAnchor_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.startTime_ = undefined;\n        /**\n         * @private\n         * @type {?}\n         */\n        _this.timeoutId_;\n        /**\n         * @private\n         * @type {Mode|undefined}\n         */\n        _this.mode_ = undefined;\n        /**\n         * Trackpad events separated by this delay will be considered separate\n         * interactions.\n         * @type {number}\n         */\n        _this.trackpadEventGap_ = 400;\n        /**\n         * @type {?}\n         */\n        _this.trackpadTimeoutId_;\n        /**\n         * The number of delta values per zoom level\n         * @private\n         * @type {number}\n         */\n        _this.deltaPerZoom_ = 300;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    MouseWheelZoom.prototype.endInteraction_ = function () {\n        this.trackpadTimeoutId_ = undefined;\n        var view = this.getMap().getView();\n        view.endInteraction(undefined, this.lastDelta_ ? (this.lastDelta_ > 0 ? 1 : -1) : 0, this.lastAnchor_);\n    };\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n     * zooms the map.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     */\n    MouseWheelZoom.prototype.handleEvent = function (mapBrowserEvent) {\n        if (!this.condition_(mapBrowserEvent)) {\n            return true;\n        }\n        var type = mapBrowserEvent.type;\n        if (type !== EventType.WHEEL) {\n            return true;\n        }\n        var map = mapBrowserEvent.map;\n        var wheelEvent = /** @type {WheelEvent} */ (mapBrowserEvent.originalEvent);\n        wheelEvent.preventDefault();\n        if (this.useAnchor_) {\n            this.lastAnchor_ = mapBrowserEvent.coordinate;\n        }\n        // Delta normalisation inspired by\n        // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n        var delta;\n        if (mapBrowserEvent.type == EventType.WHEEL) {\n            delta = wheelEvent.deltaY;\n            if (FIREFOX && wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n                delta /= DEVICE_PIXEL_RATIO;\n            }\n            if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n                delta *= 40;\n            }\n        }\n        if (delta === 0) {\n            return false;\n        }\n        else {\n            this.lastDelta_ = delta;\n        }\n        var now = Date.now();\n        if (this.startTime_ === undefined) {\n            this.startTime_ = now;\n        }\n        if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n            this.mode_ = Math.abs(delta) < 4 ? Mode.TRACKPAD : Mode.WHEEL;\n        }\n        var view = map.getView();\n        if (this.mode_ === Mode.TRACKPAD &&\n            !(view.getConstrainResolution() || this.constrainResolution_)) {\n            if (this.trackpadTimeoutId_) {\n                clearTimeout(this.trackpadTimeoutId_);\n            }\n            else {\n                if (view.getAnimating()) {\n                    view.cancelAnimations();\n                }\n                view.beginInteraction();\n            }\n            this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_);\n            view.adjustZoom(-delta / this.deltaPerZoom_, this.lastAnchor_);\n            this.startTime_ = now;\n            return false;\n        }\n        this.totalDelta_ += delta;\n        var timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n        clearTimeout(this.timeoutId_);\n        this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n        return false;\n    };\n    /**\n     * @private\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    MouseWheelZoom.prototype.handleWheelZoom_ = function (map) {\n        var view = map.getView();\n        if (view.getAnimating()) {\n            view.cancelAnimations();\n        }\n        var delta = -clamp(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_) / this.deltaPerZoom_;\n        if (view.getConstrainResolution() || this.constrainResolution_) {\n            // view has a zoom constraint, zoom by 1\n            delta = delta ? (delta > 0 ? 1 : -1) : 0;\n        }\n        zoomByDelta(view, delta, this.lastAnchor_, this.duration_);\n        this.mode_ = undefined;\n        this.totalDelta_ = 0;\n        this.lastAnchor_ = null;\n        this.startTime_ = undefined;\n        this.timeoutId_ = undefined;\n    };\n    /**\n     * Enable or disable using the mouse's location as an anchor when zooming\n     * @param {boolean} useAnchor true to zoom to the mouse's location, false\n     * to zoom to the center of the map\n     * @api\n     */\n    MouseWheelZoom.prototype.setMouseAnchor = function (useAnchor) {\n        this.useAnchor_ = useAnchor;\n        if (!useAnchor) {\n            this.lastAnchor_ = null;\n        }\n    };\n    return MouseWheelZoom;\n}(Interaction));\nexport default MouseWheelZoom;\n"]},"metadata":{},"sourceType":"module"}