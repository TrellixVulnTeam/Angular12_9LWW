{"ast":null,"code":"import { tap } from 'rxjs/operators';\nexport function CacheBuster(cacheBusterConfig) {\n  return function (_target, _propertyKey, propertyDescriptor) {\n    const oldMethod = propertyDescriptor.value;\n\n    if (propertyDescriptor && propertyDescriptor.value) {\n      /* use function instead of an arrow function to keep context of invocation */\n      propertyDescriptor.value = function (...parameters) {\n        return oldMethod.call(this, ...parameters).pipe(tap(() => {\n          if (cacheBusterConfig.cacheBusterNotifier) {\n            cacheBusterConfig.cacheBusterNotifier.next();\n          }\n        }));\n      };\n    }\n\n    ;\n    return propertyDescriptor;\n  };\n}\n;","map":{"version":3,"sources":["C:/Users/admin/Downloads/igo2-lib-master/igo2-lib-master/node_modules/ts-cacheable/dist/esm2015/cache-buster.decorator.js"],"names":["tap","CacheBuster","cacheBusterConfig","_target","_propertyKey","propertyDescriptor","oldMethod","value","parameters","call","pipe","cacheBusterNotifier","next"],"mappings":"AAAA,SAASA,GAAT,QAAoB,gBAApB;AACA,OAAO,SAASC,WAAT,CAAqBC,iBAArB,EAAwC;AAC3C,SAAO,UAAUC,OAAV,EAAmBC,YAAnB,EAAiCC,kBAAjC,EAAqD;AACxD,UAAMC,SAAS,GAAGD,kBAAkB,CAACE,KAArC;;AACA,QAAIF,kBAAkB,IAAIA,kBAAkB,CAACE,KAA7C,EAAoD;AAChD;AACAF,MAAAA,kBAAkB,CAACE,KAAnB,GAA2B,UAAU,GAAGC,UAAb,EAAyB;AAChD,eAAOF,SAAS,CAACG,IAAV,CAAe,IAAf,EAAqB,GAAGD,UAAxB,EAAoCE,IAApC,CAAyCV,GAAG,CAAC,MAAM;AACtD,cAAIE,iBAAiB,CAACS,mBAAtB,EAA2C;AACvCT,YAAAA,iBAAiB,CAACS,mBAAlB,CAAsCC,IAAtC;AACH;AACJ,SAJkD,CAA5C,CAAP;AAKH,OAND;AAOH;;AACD;AACA,WAAOP,kBAAP;AACH,GAdD;AAeH;AACD","sourcesContent":["import { tap } from 'rxjs/operators';\nexport function CacheBuster(cacheBusterConfig) {\n    return function (_target, _propertyKey, propertyDescriptor) {\n        const oldMethod = propertyDescriptor.value;\n        if (propertyDescriptor && propertyDescriptor.value) {\n            /* use function instead of an arrow function to keep context of invocation */\n            propertyDescriptor.value = function (...parameters) {\n                return oldMethod.call(this, ...parameters).pipe(tap(() => {\n                    if (cacheBusterConfig.cacheBusterNotifier) {\n                        cacheBusterConfig.cacheBusterNotifier.next();\n                    }\n                }));\n            };\n        }\n        ;\n        return propertyDescriptor;\n    };\n}\n;\n"]},"metadata":{},"sourceType":"module"}