{"ast":null,"code":"import { LanguageService } from '@igo2/core';\nimport { EntityStore, getEntityProperty, EntityTableColumnRenderer } from '@igo2/common';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@igo2/core\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@igo2/common\";\nexport let AppEntityTableComponent = /*#__PURE__*/(() => {\n  class AppEntityTableComponent {\n    constructor(languageService) {\n      this.languageService = languageService;\n      this.store = new EntityStore([]);\n      this.entitySortChange$ = new BehaviorSubject(false);\n      this.paginatorOptions = {\n        pageSize: 10\n      };\n      this.template = {\n        selection: true,\n        selectionCheckbox: true,\n        selectMany: true,\n        sort: true,\n        valueAccessor: (entity, name) => {\n          return getEntityProperty(entity, name);\n        },\n        columns: [{\n          name: 'selected',\n          title: 'Selected',\n          valueAccessor: entity => {\n            return this.store.state.get(entity).selected ? 'radiobox-marked' : 'radiobox-blank';\n          },\n          renderer: EntityTableColumnRenderer.Icon\n        }, {\n          name: 'id',\n          title: 'ID'\n        }, {\n          name: 'name',\n          title: 'Name'\n        }, {\n          name: 'description',\n          title: 'Description',\n          renderer: EntityTableColumnRenderer.HTML\n        }, {\n          name: 'url',\n          title: 'Hyperlink'\n        }, {\n          name: 'image',\n          title: 'Image'\n        }, {\n          name: 'action',\n          title: '',\n          valueAccessor: entity => {\n            return [{\n              icon: 'home',\n              color: 'warn',\n              click: row => {\n                console.log(row);\n              }\n            }];\n          },\n          renderer: EntityTableColumnRenderer.ButtonGroup\n        }]\n      };\n    }\n\n    ngOnInit() {\n      const ids = [2, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];\n      const entities = ids.map(id => {\n        return {\n          id,\n          name: `Name ${id}`,\n          description: `<b>Description ${id}</b>`,\n          url: 'https://igouverte.org',\n          image: 'https://www.igouverte.org/assets/img/Igo_logoavec.png'\n        };\n      });\n      this.store.load(entities);\n    }\n\n    entitySortChange() {\n      this.entitySortChange$.next(true);\n    }\n\n    paginatorChange(event) {\n      this.paginator = event;\n    }\n\n    ngOnDestroy() {\n      this.store.destroy();\n    }\n\n  }\n\n  AppEntityTableComponent.ɵfac = function AppEntityTableComponent_Factory(t) {\n    return new (t || AppEntityTableComponent)(i0.ɵɵdirectiveInject(i1.LanguageService));\n  };\n\n  AppEntityTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppEntityTableComponent,\n    selectors: [[\"app-entity-table\"]],\n    decls: 10,\n    vars: 4,\n    consts: [[\"href\", \"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/app/common/entity-table\"], [3, \"store\", \"withPaginator\", \"paginatorOptions\", \"template\", \"entitySortChange\"]],\n    template: function AppEntityTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\");\n        i0.ɵɵelementStart(1, \"mat-card-subtitle\");\n        i0.ɵɵtext(2, \"Common\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"mat-card-title\");\n        i0.ɵɵtext(4, \"Entity Table\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-card-content\");\n        i0.ɵɵtext(6, \" See the \");\n        i0.ɵɵelementStart(7, \"a\", 0);\n        i0.ɵɵtext(8, \"code of this example\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"igo-entity-table\", 1);\n        i0.ɵɵlistener(\"entitySortChange\", function AppEntityTableComponent_Template_igo_entity_table_entitySortChange_9_listener() {\n          return ctx.entitySortChange();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"store\", ctx.store)(\"withPaginator\", true)(\"paginatorOptions\", ctx.paginatorOptions)(\"template\", ctx.template);\n      }\n    },\n    directives: [i2.MatCard, i2.MatCardSubtitle, i2.MatCardTitle, i2.MatCardContent, i3.EntityTableComponent],\n    styles: [\"pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%] {\\n  font-family: monospace, monospace;\\n}\\n\\npre[_ngcontent-%COMP%] {\\n  overflow: auto;\\n}\\n\\npre[_ngcontent-%COMP%]    > code[_ngcontent-%COMP%] {\\n  display: block;\\n  padding: 1rem;\\n  word-wrap: normal;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudGl0eS10YWJsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRSxpQ0FBQTtBQUNGOztBQUNBO0VBQ0UsY0FBQTtBQUVGOztBQUFBO0VBQ0UsY0FBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtBQUdGIiwiZmlsZSI6ImVudGl0eS10YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInByZSxcbmNvZGUge1xuICBmb250LWZhbWlseTogbW9ub3NwYWNlLCBtb25vc3BhY2U7XG59XG5wcmUge1xuICBvdmVyZmxvdzogYXV0bztcbn1cbnByZSA+IGNvZGUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcGFkZGluZzogMXJlbTtcbiAgd29yZC13cmFwOiBub3JtYWw7XG59XG4iXX0= */\"]\n  });\n  return AppEntityTableComponent;\n})();","map":{"version":3,"sources":["C:\\Users\\admin\\Downloads\\angular\\igo2-lib-master\\demo\\src\\app\\common\\entity-table\\entity-table.component.ts","C:\\Users\\admin\\Downloads\\angular\\igo2-lib-master\\demo\\src\\app\\common\\entity-table\\entity-table.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\n\nimport { LanguageService } from '@igo2/core';\nimport {\n  EntityStore,\n  EntityTableButton,\n  getEntityProperty,\n  EntityTableColumnRenderer,\n  EntityTablePaginatorOptions\n} from '@igo2/common';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n  selector: 'app-entity-table',\n  templateUrl: './entity-table.component.html',\n  styleUrls: ['./entity-table.component.scss']\n})\nexport class AppEntityTableComponent implements OnInit, OnDestroy {\n  public store = new EntityStore([]);\n  public paginator: MatPaginator;\n  entitySortChange$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  public paginatorOptions: EntityTablePaginatorOptions = {pageSize: 10};\n\n  public template = {\n    selection: true,\n    selectionCheckbox: true,\n    selectMany: true,\n    sort: true,\n    valueAccessor: (entity: object, name: string) => {\n      return getEntityProperty(entity, name);\n    },\n    columns: [\n      {\n        name: 'selected',\n        title: 'Selected',\n        valueAccessor: (entity: object) => {\n          return this.store.state.get(entity).selected\n            ? 'radiobox-marked'\n            : 'radiobox-blank';\n        },\n        renderer: EntityTableColumnRenderer.Icon\n      },\n      {\n        name: 'id',\n        title: 'ID'\n      },\n      {\n        name: 'name',\n        title: 'Name'\n      },\n      {\n        name: 'description',\n        title: 'Description',\n        renderer: EntityTableColumnRenderer.HTML\n      },\n      {\n        name: 'url',\n        title: 'Hyperlink'\n      },\n      {\n        name: 'image',\n        title: 'Image'\n      },\n      {\n        name: 'action',\n        title: '',\n        valueAccessor: (entity: object) => {\n          return [{\n            icon: 'home',\n            color: 'warn',\n            click: (row) => { console.log(row); }\n          }] as EntityTableButton[];\n        },\n        renderer: EntityTableColumnRenderer.ButtonGroup\n      }\n    ]\n  };\n\n  constructor(private languageService: LanguageService) {}\n\n  ngOnInit() {\n    const ids = [2, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];\n\n    const entities = ids.map(id => {\n      return { id , name: `Name ${id}`, description: `<b>Description ${id}</b>`, url: 'https://igouverte.org', image: 'https://www.igouverte.org/assets/img/Igo_logoavec.png'};\n    });\n    this.store.load(entities);\n  }\n\n  entitySortChange() {\n    this.entitySortChange$.next(true);\n  }\n\n  paginatorChange(event: MatPaginator) {\n    this.paginator = event;\n  }\n\n  ngOnDestroy() {\n    this.store.destroy();\n  }\n}\n","<mat-card>\n  <mat-card-subtitle>Common</mat-card-subtitle>\n  <mat-card-title>Entity Table</mat-card-title>\n  <mat-card-content>\n    See the <a href=\"https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/app/common/entity-table\">code of this example</a>\n  </mat-card-content>\n  <igo-entity-table\n    [store]=\"store\"\n    [withPaginator]=\"true\"\n    [paginatorOptions]=\"paginatorOptions\"\n    [template]=\"template\"\n    (entitySortChange)=\"entitySortChange()\">\n  </igo-entity-table>\n</mat-card>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}