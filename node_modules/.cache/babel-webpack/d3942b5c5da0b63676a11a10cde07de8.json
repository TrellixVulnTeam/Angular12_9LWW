{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/format/WMTSCapabilities\n */\n\n\nimport OWS from './OWS.js';\nimport XML from './XML.js';\nimport { boundingExtent } from '../extent.js';\nimport { makeArrayPusher, makeObjectPropertyPusher, makeObjectPropertySetter, makeStructureNS, pushParseAndPop } from '../xml.js';\nimport { readDecimal, readPositiveInteger, readString } from './xsd.js';\nimport { readHref } from './xlink.js';\n/**\n * @const\n * @type {Array<null|string>}\n */\n\nvar NAMESPACE_URIS = [null, 'http://www.opengis.net/wmts/1.0'];\n/**\n * @const\n * @type {Array<null|string>}\n */\n\nvar OWS_NAMESPACE_URIS = [null, 'http://www.opengis.net/ows/1.1'];\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Contents': makeObjectPropertySetter(readContents)\n});\n/**\n * @classdesc\n * Format for reading WMTS capabilities data.\n *\n * @api\n */\n\nvar WMTSCapabilities = function (_super) {\n  __extends(WMTSCapabilities, _super);\n\n  function WMTSCapabilities() {\n    var _this = _super.call(this) || this;\n    /**\n     * @type {OWS}\n     * @private\n     */\n\n\n    _this.owsParser_ = new OWS();\n    return _this;\n  }\n  /**\n   * @param {Element} node Node.\n   * @return {Object} Object\n   */\n\n\n  WMTSCapabilities.prototype.readFromNode = function (node) {\n    var version = node.getAttribute('version');\n\n    if (version) {\n      version = version.trim();\n    }\n\n    var WMTSCapabilityObject = this.owsParser_.readFromNode(node);\n\n    if (!WMTSCapabilityObject) {\n      return null;\n    }\n\n    WMTSCapabilityObject['version'] = version;\n    WMTSCapabilityObject = pushParseAndPop(WMTSCapabilityObject, PARSERS, node, []);\n    return WMTSCapabilityObject ? WMTSCapabilityObject : null;\n  };\n\n  return WMTSCapabilities;\n}(XML);\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\n\nvar CONTENTS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Layer': makeObjectPropertyPusher(readLayer),\n  'TileMatrixSet': makeObjectPropertyPusher(readTileMatrixSet)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar LAYER_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Style': makeObjectPropertyPusher(readStyle),\n  'Format': makeObjectPropertyPusher(readString),\n  'TileMatrixSetLink': makeObjectPropertyPusher(readTileMatrixSetLink),\n  'Dimension': makeObjectPropertyPusher(readDimensions),\n  'ResourceURL': makeObjectPropertyPusher(readResourceUrl)\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n  'Title': makeObjectPropertySetter(readString),\n  'Abstract': makeObjectPropertySetter(readString),\n  'WGS84BoundingBox': makeObjectPropertySetter(readBoundingBox),\n  'Identifier': makeObjectPropertySetter(readString)\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar STYLE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'LegendURL': makeObjectPropertyPusher(readLegendUrl)\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n  'Title': makeObjectPropertySetter(readString),\n  'Identifier': makeObjectPropertySetter(readString)\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar TMS_LINKS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'TileMatrixSet': makeObjectPropertySetter(readString),\n  'TileMatrixSetLimits': makeObjectPropertySetter(readTileMatrixLimitsList)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar TMS_LIMITS_LIST_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'TileMatrixLimits': makeArrayPusher(readTileMatrixLimits)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar TMS_LIMITS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'TileMatrix': makeObjectPropertySetter(readString),\n  'MinTileRow': makeObjectPropertySetter(readPositiveInteger),\n  'MaxTileRow': makeObjectPropertySetter(readPositiveInteger),\n  'MinTileCol': makeObjectPropertySetter(readPositiveInteger),\n  'MaxTileCol': makeObjectPropertySetter(readPositiveInteger)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar DIMENSION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Default': makeObjectPropertySetter(readString),\n  'Value': makeObjectPropertyPusher(readString)\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n  'Identifier': makeObjectPropertySetter(readString)\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar WGS84_BBOX_READERS = makeStructureNS(OWS_NAMESPACE_URIS, {\n  'LowerCorner': makeArrayPusher(readCoordinates),\n  'UpperCorner': makeArrayPusher(readCoordinates)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar TMS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'WellKnownScaleSet': makeObjectPropertySetter(readString),\n  'TileMatrix': makeObjectPropertyPusher(readTileMatrix)\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n  'SupportedCRS': makeObjectPropertySetter(readString),\n  'Identifier': makeObjectPropertySetter(readString),\n  'BoundingBox': makeObjectPropertySetter(readBoundingBox)\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar TM_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'TopLeftCorner': makeObjectPropertySetter(readCoordinates),\n  'ScaleDenominator': makeObjectPropertySetter(readDecimal),\n  'TileWidth': makeObjectPropertySetter(readPositiveInteger),\n  'TileHeight': makeObjectPropertySetter(readPositiveInteger),\n  'MatrixWidth': makeObjectPropertySetter(readPositiveInteger),\n  'MatrixHeight': makeObjectPropertySetter(readPositiveInteger)\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n  'Identifier': makeObjectPropertySetter(readString)\n}));\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\n\nfunction readContents(node, objectStack) {\n  return pushParseAndPop({}, CONTENTS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Layers object.\n */\n\n\nfunction readLayer(node, objectStack) {\n  return pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set object.\n */\n\n\nfunction readTileMatrixSet(node, objectStack) {\n  return pushParseAndPop({}, TMS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\n\n\nfunction readStyle(node, objectStack) {\n  var style = pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n\n  if (!style) {\n    return undefined;\n  }\n\n  var isDefault = node.getAttribute('isDefault') === 'true';\n  style['isDefault'] = isDefault;\n  return style;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set Link object.\n */\n\n\nfunction readTileMatrixSetLink(node, objectStack) {\n  return pushParseAndPop({}, TMS_LINKS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Dimension object.\n */\n\n\nfunction readDimensions(node, objectStack) {\n  return pushParseAndPop({}, DIMENSION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Resource URL object.\n */\n\n\nfunction readResourceUrl(node, objectStack) {\n  var format = node.getAttribute('format');\n  var template = node.getAttribute('template');\n  var resourceType = node.getAttribute('resourceType');\n  var resource = {};\n\n  if (format) {\n    resource['format'] = format;\n  }\n\n  if (template) {\n    resource['template'] = template;\n  }\n\n  if (resourceType) {\n    resource['resourceType'] = resourceType;\n  }\n\n  return resource;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} BBox object.\n */\n\n\nfunction readBoundingBox(node, objectStack) {\n  var coordinates = pushParseAndPop([], WGS84_BBOX_READERS, node, objectStack);\n\n  if (coordinates.length != 2) {\n    return undefined;\n  }\n\n  return boundingExtent(coordinates);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Legend object.\n */\n\n\nfunction readLegendUrl(node, objectStack) {\n  var legend = {};\n  legend['format'] = node.getAttribute('format');\n  legend['href'] = readHref(node);\n  return legend;\n}\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Coordinates object.\n */\n\n\nfunction readCoordinates(node, objectStack) {\n  var coordinates = readString(node).split(/\\s+/);\n\n  if (!coordinates || coordinates.length != 2) {\n    return undefined;\n  }\n\n  var x = +coordinates[0];\n  var y = +coordinates[1];\n\n  if (isNaN(x) || isNaN(y)) {\n    return undefined;\n  }\n\n  return [x, y];\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrix object.\n */\n\n\nfunction readTileMatrix(node, objectStack) {\n  return pushParseAndPop({}, TM_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixSetLimits Object.\n */\n\n\nfunction readTileMatrixLimitsList(node, objectStack) {\n  return pushParseAndPop([], TMS_LIMITS_LIST_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixLimits Array.\n */\n\n\nfunction readTileMatrixLimits(node, objectStack) {\n  return pushParseAndPop({}, TMS_LIMITS_PARSERS, node, objectStack);\n}\n\nexport default WMTSCapabilities;","map":{"version":3,"sources":["C:/Users/admin/Downloads/igo2-lib-master/igo2-lib-master/node_modules/ol/format/WMTSCapabilities.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","OWS","XML","boundingExtent","makeArrayPusher","makeObjectPropertyPusher","makeObjectPropertySetter","makeStructureNS","pushParseAndPop","readDecimal","readPositiveInteger","readString","readHref","NAMESPACE_URIS","OWS_NAMESPACE_URIS","PARSERS","readContents","WMTSCapabilities","_super","_this","owsParser_","readFromNode","node","version","getAttribute","trim","WMTSCapabilityObject","CONTENTS_PARSERS","readLayer","readTileMatrixSet","LAYER_PARSERS","readStyle","readTileMatrixSetLink","readDimensions","readResourceUrl","readBoundingBox","STYLE_PARSERS","readLegendUrl","TMS_LINKS_PARSERS","readTileMatrixLimitsList","TMS_LIMITS_LIST_PARSERS","readTileMatrixLimits","TMS_LIMITS_PARSERS","DIMENSION_PARSERS","WGS84_BBOX_READERS","readCoordinates","TMS_PARSERS","readTileMatrix","TM_PARSERS","objectStack","style","undefined","isDefault","format","template","resourceType","resource","coordinates","length","legend","split","x","y","isNaN"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/WMTSCapabilities\n */\nimport OWS from './OWS.js';\nimport XML from './XML.js';\nimport { boundingExtent } from '../extent.js';\nimport { makeArrayPusher, makeObjectPropertyPusher, makeObjectPropertySetter, makeStructureNS, pushParseAndPop, } from '../xml.js';\nimport { readDecimal, readPositiveInteger, readString } from './xsd.js';\nimport { readHref } from './xlink.js';\n/**\n * @const\n * @type {Array<null|string>}\n */\nvar NAMESPACE_URIS = [null, 'http://www.opengis.net/wmts/1.0'];\n/**\n * @const\n * @type {Array<null|string>}\n */\nvar OWS_NAMESPACE_URIS = [null, 'http://www.opengis.net/ows/1.1'];\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Contents': makeObjectPropertySetter(readContents),\n});\n/**\n * @classdesc\n * Format for reading WMTS capabilities data.\n *\n * @api\n */\nvar WMTSCapabilities = /** @class */ (function (_super) {\n    __extends(WMTSCapabilities, _super);\n    function WMTSCapabilities() {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {OWS}\n         * @private\n         */\n        _this.owsParser_ = new OWS();\n        return _this;\n    }\n    /**\n     * @param {Element} node Node.\n     * @return {Object} Object\n     */\n    WMTSCapabilities.prototype.readFromNode = function (node) {\n        var version = node.getAttribute('version');\n        if (version) {\n            version = version.trim();\n        }\n        var WMTSCapabilityObject = this.owsParser_.readFromNode(node);\n        if (!WMTSCapabilityObject) {\n            return null;\n        }\n        WMTSCapabilityObject['version'] = version;\n        WMTSCapabilityObject = pushParseAndPop(WMTSCapabilityObject, PARSERS, node, []);\n        return WMTSCapabilityObject ? WMTSCapabilityObject : null;\n    };\n    return WMTSCapabilities;\n}(XML));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar CONTENTS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Layer': makeObjectPropertyPusher(readLayer),\n    'TileMatrixSet': makeObjectPropertyPusher(readTileMatrixSet),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar LAYER_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Style': makeObjectPropertyPusher(readStyle),\n    'Format': makeObjectPropertyPusher(readString),\n    'TileMatrixSetLink': makeObjectPropertyPusher(readTileMatrixSetLink),\n    'Dimension': makeObjectPropertyPusher(readDimensions),\n    'ResourceURL': makeObjectPropertyPusher(readResourceUrl),\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'WGS84BoundingBox': makeObjectPropertySetter(readBoundingBox),\n    'Identifier': makeObjectPropertySetter(readString),\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar STYLE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'LegendURL': makeObjectPropertyPusher(readLegendUrl),\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'Identifier': makeObjectPropertySetter(readString),\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TMS_LINKS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'TileMatrixSet': makeObjectPropertySetter(readString),\n    'TileMatrixSetLimits': makeObjectPropertySetter(readTileMatrixLimitsList),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TMS_LIMITS_LIST_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'TileMatrixLimits': makeArrayPusher(readTileMatrixLimits),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TMS_LIMITS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'TileMatrix': makeObjectPropertySetter(readString),\n    'MinTileRow': makeObjectPropertySetter(readPositiveInteger),\n    'MaxTileRow': makeObjectPropertySetter(readPositiveInteger),\n    'MinTileCol': makeObjectPropertySetter(readPositiveInteger),\n    'MaxTileCol': makeObjectPropertySetter(readPositiveInteger),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar DIMENSION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Default': makeObjectPropertySetter(readString),\n    'Value': makeObjectPropertyPusher(readString),\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Identifier': makeObjectPropertySetter(readString),\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar WGS84_BBOX_READERS = makeStructureNS(OWS_NAMESPACE_URIS, {\n    'LowerCorner': makeArrayPusher(readCoordinates),\n    'UpperCorner': makeArrayPusher(readCoordinates),\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TMS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'WellKnownScaleSet': makeObjectPropertySetter(readString),\n    'TileMatrix': makeObjectPropertyPusher(readTileMatrix),\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n    'SupportedCRS': makeObjectPropertySetter(readString),\n    'Identifier': makeObjectPropertySetter(readString),\n    'BoundingBox': makeObjectPropertySetter(readBoundingBox),\n}));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar TM_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'TopLeftCorner': makeObjectPropertySetter(readCoordinates),\n    'ScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'TileWidth': makeObjectPropertySetter(readPositiveInteger),\n    'TileHeight': makeObjectPropertySetter(readPositiveInteger),\n    'MatrixWidth': makeObjectPropertySetter(readPositiveInteger),\n    'MatrixHeight': makeObjectPropertySetter(readPositiveInteger),\n}, makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Identifier': makeObjectPropertySetter(readString),\n}));\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nfunction readContents(node, objectStack) {\n    return pushParseAndPop({}, CONTENTS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Layers object.\n */\nfunction readLayer(node, objectStack) {\n    return pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set object.\n */\nfunction readTileMatrixSet(node, objectStack) {\n    return pushParseAndPop({}, TMS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nfunction readStyle(node, objectStack) {\n    var style = pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n    if (!style) {\n        return undefined;\n    }\n    var isDefault = node.getAttribute('isDefault') === 'true';\n    style['isDefault'] = isDefault;\n    return style;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set Link object.\n */\nfunction readTileMatrixSetLink(node, objectStack) {\n    return pushParseAndPop({}, TMS_LINKS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Dimension object.\n */\nfunction readDimensions(node, objectStack) {\n    return pushParseAndPop({}, DIMENSION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Resource URL object.\n */\nfunction readResourceUrl(node, objectStack) {\n    var format = node.getAttribute('format');\n    var template = node.getAttribute('template');\n    var resourceType = node.getAttribute('resourceType');\n    var resource = {};\n    if (format) {\n        resource['format'] = format;\n    }\n    if (template) {\n        resource['template'] = template;\n    }\n    if (resourceType) {\n        resource['resourceType'] = resourceType;\n    }\n    return resource;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} BBox object.\n */\nfunction readBoundingBox(node, objectStack) {\n    var coordinates = pushParseAndPop([], WGS84_BBOX_READERS, node, objectStack);\n    if (coordinates.length != 2) {\n        return undefined;\n    }\n    return boundingExtent(coordinates);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Legend object.\n */\nfunction readLegendUrl(node, objectStack) {\n    var legend = {};\n    legend['format'] = node.getAttribute('format');\n    legend['href'] = readHref(node);\n    return legend;\n}\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Coordinates object.\n */\nfunction readCoordinates(node, objectStack) {\n    var coordinates = readString(node).split(/\\s+/);\n    if (!coordinates || coordinates.length != 2) {\n        return undefined;\n    }\n    var x = +coordinates[0];\n    var y = +coordinates[1];\n    if (isNaN(x) || isNaN(y)) {\n        return undefined;\n    }\n    return [x, y];\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrix object.\n */\nfunction readTileMatrix(node, objectStack) {\n    return pushParseAndPop({}, TM_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixSetLimits Object.\n */\nfunction readTileMatrixLimitsList(node, objectStack) {\n    return pushParseAndPop([], TMS_LIMITS_LIST_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixLimits Array.\n */\nfunction readTileMatrixLimits(node, objectStack) {\n    return pushParseAndPop({}, TMS_LIMITS_PARSERS, node, objectStack);\n}\nexport default WMTSCapabilities;\n"]},"metadata":{},"sourceType":"module"}